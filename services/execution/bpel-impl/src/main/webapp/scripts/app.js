/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */
"use strict";ApacheOdeConsole.endpoint=ApacheOdeConsole.endpoint||window.location.protocol+"//"+window.location.host+window.location.pathname,ApacheOdeConsole.endpoint=ApacheOdeConsole.endpoint.replace(/\/$/,"");var underscore=angular.module("underscore",[]);underscore.factory("_",function(){return window._}),angular.module("odeConsole",["ngAnimate","ngSanitize","ngRoute","ui.bootstrap","ngToast","smart-table","xml","angularMoment","underscore","angular-loading-bar","ui.ace","naif.base64"]).config(["$httpProvider",function(e){e.interceptors.push("xmlHttpInterceptor")}]).config(["cfpLoadingBarProvider",function(e){e.latencyThreshold=50}]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"app/dashboard/dashboard.html",controller:"DashboardController"}).when("/instances",{templateUrl:"app/instance/instancelist.html",controller:"InstanceListController"}).when("/instances/:iid",{templateUrl:"app/instance/instance.html",controller:"InstanceController"}).when("/processes",{templateUrl:"app/process/processlist.html",controller:"ProcessListController"}).when("/processes/:pid*",{templateUrl:"app/process/process.html",controller:"ProcessController"}).otherwise({redirectTo:"/"})}]).constant("IMAPI_ENDPOINT",ApacheOdeConsole.endpoint+"/processes/InstanceManagement").constant("PMAPI_ENDPOINT",ApacheOdeConsole.endpoint+"/processes/ProcessManagement").constant("DSAPI_ENDPOINT",ApacheOdeConsole.endpoint+"/processes/DeploymentService").constant("POLLING_INTERVAL","10000").filter("escape",function(){return window.encodeURIComponent}).filter("vkbeautify",function(){return function(e){return vkbeautify.xml(e,2)}}).config(["uiAceConfig",function(e){angular.extend(e,{ace:{onLoad:function(e){e.setOptions({maxLines:1/0}),e.setFadeFoldWidgets(!0)}}})}]).run(["$templateCache",function(e){e.put("template/smart-table/pagination.html",'<nav ng-if="pages.length >= 2"><ul class="pagination"><li ng-class="{disabled: currentPage == 1}"><a ng-click="selectPage(currentPage - 1)" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li><li ng-repeat="page in pages" ng-class="{active: page==currentPage}"><a ng-click="selectPage(page)">{{page}}</a></li><li ng-class="{disabled: currentPage == pages.length}"><a ng-click="selectPage(currentPage + 1)" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li></ul></nav>')}]),angular.module("odeConsole").directive("ngReallyClick",["$modal","$parse",function(e,t){return{restrict:"A",link:function(n,a,i){a.bind("click",function(){var a=n.$new();a.message=i.ngReallyMessage,e.open({templateUrl:"app/confirmdialog.html",scope:a}).result.then(function(){a.$destroy(),t(i.ngReallyClick)(n)})})}}}]),angular.module("odeConsole").factory("SoapService",["$http","$log","$q","xmlFilter","_",function(e,t,n,a,i){var o={},r=function(e){var t={},n=a(e.data).xpath("/*:Envelope/*:Body/*:Fault");return n&&(t.faultcode=n.xpath("faultcode").text(),t.faultstring=n.xpath("faultstring").text(),t.details=n.xpath("details").text()),t},s=function(e){var t="";for(var n in e){var a=e[n];t+=i.isObject(a)?"<"+n+" xmlns:"+a.prefix+'="'+a.namespaceURI+'">'+a.prefix+":"+a.localName+"</"+n+">":"<"+n+">"+a+"</"+n+">"}return t},l=function(e,t){e.prefix=e.prefix||"prfx";var n='<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">   <soapenv:Header/>   <soapenv:Body>      <'+e.prefix+":"+e.localName+" xmlns:"+e.prefix+'="'+e.namespaceURI+'">'+s(t)+"      </"+e.prefix+":"+e.localName+">   </soapenv:Body></soapenv:Envelope>";return n};return o.callSOAP=function(a,i,o){var s=n.defer(),c=l(i,o);return e.post(a+"/"+i.localName,c).then(function(e){s.resolve(e.xml)},function(e){if(500!==e.status)s.reject({faultcode:"Client",faultstring:"Network problem"});else{var n=r(e);s.reject(n),t.error(n)}}),s.promise},o.parseQNameStr=function(e){if("{"!==e.charAt(0))return{namespaceURI:"",localName:e,prefix:""};var t=e.indexOf("}");return{namespaceURI:e.substr(1,t-1),localName:e.substr(t+1),prefix:""}},o.qnameToString=function(e){return"{"+e.namespaceURI+"}"+e.localName},o.createQNameObj=function(e,t){var n=e.indexOf(":"),a=e.substr(0,n);return{namespaceURI:t.lookupNamespaceURI(a),localName:e.substr(n+1),prefix:a}},o}]),angular.module("odeConsole").directive("selectAllCheckbox",["$filter",function(e){return{restrict:"E",template:'<input type="checkbox">',replace:!0,link:function(t,n,a){function i(e,t){n.prop("checked",e).prop("indeterminate",t)}function o(){angular.forEach(t.$eval(a.items),function(e){e[a.prop]=n.prop("checked")})}n.bind("change",function(){t.$apply(function(){o()})}),t.$watch(a.items,function(t){var n=e("filter")(t,function(e){return e[a.prop]});switch(n?n.length:0){case 0:i(!1,!1);break;case t.length:i(!0,!1);break;default:i(!1,!0)}},!0),t.$on("$destroy",function(){n.off("change")}),o()}}}]),/*
 * jQuery XPath plugin v0.2.5
 * https://github.com/ilinsky/jquery-xpath
 * Copyright 2013, Sergey Ilinsky
 * Dual licensed under the MIT and GPL licenses.
 *
 * Includes xpath.js - XPath 2.0 implementation in JavaScript
 * https://github.com/ilinsky/xpath.js
 * Copyright 2013, Sergey Ilinsky
 * Dual licensed under the MIT and GPL licenses.
 *
 */
function(){function e(e,t){this.code=e,this.message=t||Gn[e]}function t(t){var n=t.match(/\$?(?:(?![0-9-])(?:[\w-]+|\*):)?(?![0-9-])(?:[\w-]+|\*)|\(:|:\)|\/\/|\.\.|::|\d+(?:\.\d*)?(?:[eE][+-]?\d+)?|\.\d+(?:[eE][+-]?\d+)?|"[^"]*(?:""[^"]*)*"|'[^']*(?:''[^']*)*'|<<|>>|[!<>]=|(?![0-9-])[\w-]+:\*|\s+|./g);if(n){for(var a=0,i=0,o=n.length;i<o;i++)"(:"==n[i]?a++:":)"==n[i]&&a?a--:a||/^\s/.test(n[i])||(this[this.length++]=n[i]);if(a)throw new e("XPST0003","Unclosed comment")}}function n(){}function a(e,t,a,i){this.staticContext=e,this.item=t,this.scope=a||{},this.stack={},this.DOMAdapter=i||new n;var o=new Rn,r=o.getTimezoneOffset();this.dateTime=new We(o.getFullYear(),o.getMonth()+1,o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds()+o.getMilliseconds()/1e3,-r),this.timezone=new Dt(0,Sn.abs(~~(r/60)),Sn.abs(r%60),0,r>0)}function i(){this.dataTypes={},this.documents={},this.functions={},this.collations={},this.collections={}}function o(e,t,n){Ln[e]=n,Kn[e]=t}function r(e,t){Bn[e]=t}function s(n,a){var i=new t(n),o=p(i,a);if(!i.eof())throw new e("XPST0003","Unexpected token beyond end of query");if(!o)throw new e("XPST0003","Expected expression");this.internalExpression=o}function l(){}function c(){}function u(){this.items=[]}function p(t,n){var a;if(!t.eof()&&(a=f(t,n))){var i=new u;for(i.items.push(a);","==t.peek();){if(t.next(),t.eof()||!(a=f(t,n)))throw new e("XPST0003","Expected expression");i.items.push(a)}return i}}function f(e,t){if(!e.eof())return y(e,t)||h(e,t)||b(e,t)||X(e,t)}function d(){this.bindings=[],this.returnExpr=null}function h(t,n){if("for"==t.peek()&&"$"==t.peek(1).substr(0,1)){t.next();var a,i=new d;do i.bindings.push(v(t,n));while(","==t.peek()&&t.next());if("return"!=t.peek())throw new e("XPST0003","Expected 'return' token in for expression");if(t.next(),t.eof()||!(a=f(t,n)))throw new e("XPST0003","Expected return statement operand in for expression");return i.returnExpr=a,i}}function m(e,t,n,a){this.prefix=e,this.localName=t,this.namespaceURI=n,this.inExpr=a}function v(t,n){var a=t.peek().substr(1).match(ia);if(!a)throw new e("XPST0003","Expected binding in for expression");if("*"==a[1]||"*"==a[2])throw new e("XPST0003","Illegal use of wildcard in for expression binding variable name");if(t.next(),"in"!=t.peek())throw new e("XPST0003","Expected 'in' token in for expression binding");t.next();var i;if(t.eof()||!(i=f(t,n)))throw new e("XPST0003","Expected in statement operand in for expression binding");return new m(a[1]||null,a[2],a[1]?n.getURIForPrefix(a[1]):null,i)}function g(e,t,n){this.condExpr=e,this.thenExpr=t,this.elseExpr=n}function y(t,n){var a,i,o;if("if"==t.peek()&&"("==t.peek(1)){if(t.next(2),t.eof()||!(a=p(t,n)))throw new e("XPST0003","Expected if statement operand in conditional expression");if(")"!=t.peek())throw new e("XPST0003","Expected ')' token in for expression");if(t.next(),"then"!=t.peek())throw new e("XPST0003","Expected 'then' token in conditional if expression");if(t.next(),t.eof()||!(i=f(t,n)))throw new e("XPST0003","Expected then statement operand in condional expression");if("else"!=t.peek())throw new e("XPST0003","Expected 'else' token in conditional if expression");if(t.next(),t.eof()||!(o=f(t,n)))throw new e("XPST0003","Expected else statement operand in condional expression");return new g(a,i,o)}}function w(e){this.quantifier=e,this.bindings=[],this.satisfiesExpr=null}function b(t,n){var a=t.peek();if(("some"==a||"every"==a)&&"$"==t.peek(1).substr(0,1)){t.next();var i,o=new w(a);do o.bindings.push(T(t,n));while(","==t.peek()&&t.next());if("satisfies"!=t.peek())throw new e("XPST0003","Expected 'satisfies' token in quantified expression");if(t.next(),t.eof()||!(i=f(t,n)))throw new e("XPST0003","Expected satisfies statement operand in quantified expression");return o.satisfiesExpr=i,o}}function x(e,t,n,a){this.prefix=e,this.localName=t,this.namespaceURI=n,this.inExpr=a}function T(t,n){var a=t.peek().substr(1).match(ia);if(!a)throw new e("XPST0003","Expected binding in quantified expression");if("*"==a[1]||"*"==a[2])throw new e("XPST0003","Illegal use of wildcard in quantified expression binding variable name");if(t.next(),"in"!=t.peek())throw new e("XPST0003","Expected 'in' token in quantified expression binding");t.next();var i;if(t.eof()||!(i=f(t,n)))throw new e("XPST0003","Expected in statement operand in quantified expression binding");return new x(a[1]||null,a[2],a[1]?n.getURIForPrefix(a[1]):null,i)}function I(e,t,n){this.left=e,this.right=t,this.operator=n}function N(t,n){var a,i;if(!t.eof()&&(a=Ne(t,n))){if(!(t.peek()in Jn))return a;var o=t.peek();if(t.next(),t.eof()||!(i=Ne(t,n)))throw new e("XPST0003","Expected second operand in comparison expression");return new I(a,i,o)}}function P(e,t){var n=bn(e.left.evaluate(t),t);if(!n.length)return new He(!1);var a=bn(e.right.evaluate(t),t);if(!a.length)return new He(!1);for(var i,o,r=!1,s=0,l=n.length;s<l&&!r;s++)for(var c,u,p=0,f=a.length;p<f&&!r;p++)o=n[s],u=a[p],i=o instanceof It,c=u instanceof It,i&&c?(o=bt.cast(o),u=bt.cast(u)):(i?u instanceof Dt?o=Dt.cast(o):u instanceof Nt?o=Nt.cast(o):u.primitiveKind&&(o=Bn[u.primitiveKind].cast(o)):c&&(o instanceof Dt?u=Dt.cast(u):o instanceof Nt?u=Nt.cast(u):o.primitiveKind&&(u=Bn[o.primitiveKind].cast(u))),o instanceof Be&&(o=bt.cast(o)),u instanceof Be&&(u=bt.cast(u))),r=Qn[Hn[e.operator]](o,u,t).valueOf();return new He(r)}function D(e,t){var n=bn(e.left.evaluate(t),t);if(!n.length)return null;be(t,n,"?","first operand of '"+e.operator+"'");var a=bn(e.right.evaluate(t),t);if(!a.length)return null;be(t,a,"?","second operand of '"+e.operator+"'");var i=n[0],o=a[0];return i instanceof It&&(i=bt.cast(i)),o instanceof It&&(o=bt.cast(o)),i instanceof Be&&(i=bt.cast(i)),o instanceof Be&&(o=bt.cast(o)),Qn[e.operator](i,o,t)}function E(e,t){var n=e.left.evaluate(t);if(!n.length)return null;be(t,n,"?","first operand of '"+e.operator+"'"),we(t,n,Qt,"first operand of '"+e.operator+"'");var a=e.right.evaluate(t);return a.length?(be(t,a,"?","second operand of '"+e.operator+"'"),we(t,a,Qt,"second operand of '"+e.operator+"'"),Zn[e.operator](n[0],a[0],t)):null}function O(e){this.left=e,this.items=[]}function R(t,n){var a;if(!t.eof()&&(a=S(t,n))){if(!(t.peek()in Wn))return a;for(var i,o=new O(a);(i=t.peek())in Wn;){if(t.next(),t.eof()||!(a=S(t,n)))throw new e("XPST0003","Expected second operand in additive expression");o.items.push([i,a])}return o}}function A(e){this.left=e,this.items=[]}function S(t,n){var a;if(!t.eof()&&(a=De(t,n))){if(!(t.peek()in ea))return a;for(var i,o=new A(a);(i=t.peek())in ea;){if(t.next(),t.eof()||!(a=De(t,n)))throw new e("XPST0003","Expected second operand in multiplicative expression");o.items.push([i,a])}return o}}function k(e,t){this.operator=e,this.expression=t}function M(t,n){if(!t.eof()){if(!(t.peek()in ta))return C(t,n);for(var a,i="+";t.peek()in ta;)"-"==t.peek()&&(i="-"==i?"+":"-"),t.next();if(t.eof()||!(a=C(t,n)))throw new e("XPST0003","Expected operand in unary expression");return new k(i,a)}}function C(e,t){return B(e,t)}function U(e){this.left=e,this.items=[]}function X(t,n){var a;if(!t.eof()&&(a=Y(t,n))){if("or"!=t.peek())return a;for(var i=new U(a);"or"==t.peek();){if(t.next(),t.eof()||!(a=Y(t,n)))throw new e("XPST0003","Expected second operand in logical expression");i.items.push(a)}return i}}function _(e){this.left=e,this.items=[]}function Y(t,n){var a;if(!t.eof()&&(a=N(t,n))){if("and"!=t.peek())return a;for(var i=new _(a);"and"==t.peek();){if(t.next(),t.eof()||!(a=N(t,n)))throw new e("XPST0003","Expected second operand in logical expression");i.items.push(a)}return i}}function $(){}function F(e,t){if(!e.eof())return de(e,t)||G(e,t)}function z(t,n,a){for(var i;"["==t.peek();){if(t.next(),t.eof()||!(i=p(t,n)))throw new e("XPST0003","Expected expression in predicate");if(a.predicates.push(i),"]"!=t.peek())throw new e("XPST0003","Expected ']' token in predicate");t.next()}}function q(e,t){this.axis=e,this.test=t,this.predicates=[]}function G(t,n){var a,i,o=t.peek();if("::"==t.peek(1)){if(!(o in na))throw new e("XPST0003","Unknown axis name: "+o);if(t.next(2),t.eof()||!(a=H(t,n)))throw new e("XPST0003","Expected node test expression in axis step");i=new q(o,a)}else if(".."==o)t.next(),i=new q("parent",new Q("node"));else if("@"==o){if(t.next(),t.eof()||!(a=H(t,n)))throw new e("XPST0003","Expected node test expression in axis step");i=new q("attribute",a)}else{if(t.eof()||!(a=H(t,n)))return;i=new q(a instanceof Q&&"attribute"==a.name?"attribute":"child",a)}return z(t,n,i),i}function V(e,t,n){for(var a;e;e=n(e,"nextSibling"))t.push(e),(a=n(e,"firstChild"))&&V(a,t,n)}function L(e,t,n){for(var a;e;e=n(e,"previousSibling"))(a=n(e,"lastChild"))&&L(a,t,n),t.push(e)}function K(){this.items=[]}function B(t,n){if(!t.eof()){var a,i="/",o="//",r=new K,s=t.peek();if(s!=o&&s!=i||(t.next(),r.items.push(new ve(null,"root",Fn)),s==o&&r.items.push(new q("descendant-or-self",new Q("node")))),!t.eof()&&(a=F(t,n))){for(r.items.push(a);(s=t.peek())==i||s==o;){if(s==o&&r.items.push(new q("descendant-or-self",new Q("node"))),t.next(),t.eof()||!(a=F(t,n)))throw new e("XPST0003","Expected path step expression");r.items.push(a)}return 1==r.items.length?r.items[0]:r}if(s==i)return r.items[0];if(s==o)throw new e("XPST0003","Expected path step expression")}}function j(){}function H(e,t){if(!e.eof())return Z(e,t)||W(e,t)}function Q(e){this.name=e,this.args=[]}function Z(t,n){var a=t.peek();if("("==t.peek(1)){if(!(a in aa))throw new e("XPST0003","Unknown '"+a+"' kind test");t.next(2);var i=new Q(a);if(")"!=t.peek());else{if("schema-attribute"==a)throw new e("XPST0003","Expected attribute declaration in 'schema-attribute' kind test");if("schema-element"==a)throw new e("XPST0003","Expected element declaration in 'schema-element' kind test")}if(")"!=t.peek())throw new e("XPST0003","Expected ')' token in kind test");return t.next(),i}}function J(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function W(t,n){var a=t.peek().match(ia);if(a){if("*"==a[1]&&"*"==a[2])throw new e("XPST0003","Illegal use of *:* wildcard in name test");return t.next(),new J(a[1]||null,a[2],a[1]?"*"==a[1]?"*":n.getURIForPrefix(a[1])||null:n.defaultElementNamespace)}}function ee(e,t){if(!e.eof())return ie(e,t)||ne(e,t)||ge(e,t)||me(e,t)||re(e,t)}function te(e){this.expression=e}function ne(t,n){if("("==t.peek()){t.next();var a=null;if(")"!=t.peek()&&(a=p(t,n)),")"!=t.peek())throw new e("XPST0003","Expected ')' token in parenthesized expression");return t.next(),new te(a)}}function ae(){}function ie(e,t){if("."==e.peek())return e.next(),new ae}function oe(){}function re(e,t){if(!e.eof())return le(e,t)||pe(e,t)}function se(e){this.value=e}function le(e,t){var n=e.peek(),a=ce(n);if(a)return e.next(),new se(a)}function ce(e){var t=e.match(oa);if(t){var n=Ot;return t[5]?n=rt:(t[2]||t[3])&&(n=ot),new n(+e)}}function ue(e){this.value=e}function pe(e,t){var n=e.peek().match(ra);if(n)return e.next(),new ue(new bt(n[1]?n[1].replace("''","'"):n[2]?n[2].replace('""','"'):""))}function fe(e){this.expression=e,this.predicates=[]}function de(e,t){var n;if(!e.eof()&&(n=ee(e,t))){var a=new fe(n);return z(e,t,a),0==a.predicates.length?a.expression:a}}function he(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function me(t,n){if("$"==t.peek().substr(0,1)){var a=t.peek().substr(1).match(ia);if(a){if("*"==a[1]||"*"==a[2])throw new e("XPST0003","Illegal use of wildcard in var expression variable name");var i=new he(a[1]||null,a[2],a[1]?n.getURIForPrefix(a[1]):null);return t.next(),i}}}function ve(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n,this.args=[]}function ge(t,n){var a=t.peek().match(ia);if(a&&"("==t.peek(1)){if(!a[1]&&a[2]in aa)return G(t,n);if("*"==a[1]||"*"==a[2])throw new e("XPST0003","Illegal use of wildcard in function name");var i,o=new ve(a[1]||null,a[2],a[1]?n.getURIForPrefix(a[1])||null:n.defaultFunctionNamespace);if(t.next(2),")"!=t.peek()){do{if(t.eof()||!(i=f(t,n)))throw new e("XPST0003","Expected function call argument");o.args.push(i)}while(","==t.peek()&&t.next());if(")"!=t.peek())throw new e("XPST0003","Expected ')' token in function call")}return t.next(),o}}function ye(t,n,a,i,o){for(var r,s,l=i.length,c=n.length,u=0;u<n.length&&!n[u][2];)u++;if(l>c)throw new e("XPST0017","Function "+t+"() must have "+(c?" no more than ":"")+c+" argument"+(c>1||!c?"s":""));if(l<u)throw new e("XPST0017","Function "+t+"() must have "+(u==c?"exactly":"at least")+" "+u+" argument"+(c>1?"s":""));for(var p=0;p<l;p++)s=n[p],r=i[p],be(o,r,s[1],sa[p]+" argument of "+t+"()"),we(o,r,s[0],sa[p]+" argument of "+t+"()"),"+"!=s[1]&&"*"!=s[1]&&(i[p]=r.length?r[0]:null)}function we(t,n,a,i){for(var o,r,s=0,l=n.length;s<l;s++)if(r=n[s],a==Qt||a.prototype instanceof Qt){if(!t.DOMAdapter.isNode(r))throw new e("XPTY0004","Required item type of "+i+" is "+a);if(a!=Qt&&(o=t.DOMAdapter.getProperty(r,"nodeType"),[null,en,Zt,nn,nn,null,null,tn,Jt,Wt,null,null,null][o]!=a))throw new e("XPTY0004","Required item type of "+i+" is "+a)}else if(a==Le||a.prototype instanceof Le){if(r=bn([r],t)[0],a!=Le&&(r instanceof It?r=a.cast(r):a==bt?r instanceof Be&&(r=bt.cast(r)):a==rt&&Ke(r)&&(r=a.cast(r))),!(r instanceof a))throw new e("XPTY0004","Required item type of "+i+" is "+a);n[s]=r}}function be(t,n,a,i){var o=n.length;if("?"==a){if(o>1)throw new e("XPTY0004","Required cardinality of "+i+" is one or zero")}else if("+"==a){if(o<1)throw new e("XPTY0004","Required cardinality of "+i+" is one or more")}else if("*"!=a&&1!=o)throw new e("XPTY0004","Required cardinality of "+i+" is exactly one")}function xe(e){this.left=e,this.items=[]}function Te(t,n){var a,i;if(!t.eof()&&(a=Oe(t,n))){if("intersect"!=(i=t.peek())&&"except"!=i)return a;for(var o=new xe(a);"intersect"==(i=t.peek())||"except"==i;){if(t.next(),t.eof()||!(a=Oe(t,n)))throw new e("XPST0003","Expected second operand in "+i+" expression");o.items.push([i,a])}return o}}function Ie(e,t){this.left=e,this.right=t}function Ne(t,n){var a,i;if(!t.eof()&&(a=R(t,n))){if("to"!=t.peek())return a;if(t.next(),t.eof()||!(i=R(t,n)))throw new e("XPST0003","Expected second operand in range expression");return new Ie(a,i)}}function Pe(e){this.left=e,this.items=[]}function De(t,n){var a,i;if(!t.eof()&&(a=Te(t,n))){if("|"!=(i=t.peek())&&"union"!=i)return a;for(var o=new Pe(a);"|"==(i=t.peek())||"union"==i;){if(t.next(),t.eof()||!(a=Te(t,n)))throw new e("XPST0003","Expected second operand in union expression");o.items.push(a)}return o}}function Ee(e,t){this.expression=e,this.type=t}function Oe(t,n){var a,i;if(!t.eof()&&(a=Ae(t,n))){if("instance"!=t.peek()||"of"!=t.peek(1))return a;if(t.next(2),t.eof()||!(i=Fe(t,n)))throw new e("XPST0003","Expected second operand in instance of expression");return new Ee(a,i)}}function Re(e,t){this.expression=e,this.type=t}function Ae(t,n){var a,i;if(!t.eof()&&(a=ke(t,n))){if("treat"!=t.peek()||"as"!=t.peek(1))return a;if(t.next(2),t.eof()||!(i=Fe(t,n)))throw new e("XPST0003","Expected second operand in treat expression");return new Re(a,i)}}function Se(e,t){this.expression=e,this.type=t}function ke(t,n){var a,i;if(!t.eof()&&(a=Ce(t,n))){if("castable"!=t.peek()||"as"!=t.peek(1))return a;if(t.next(2),t.eof()||!(i=qe(t,n)))throw new e("XPST0003","Expected second operand in castable expression");return new Se(a,i)}}function Me(e,t){this.expression=e,this.type=t}function Ce(t,n){var a,i;if(!t.eof()&&(a=M(t,n))){if("cast"!=t.peek()||"as"!=t.peek(1))return a;if(t.next(2),t.eof()||!(i=qe(t,n)))throw new e("XPST0003","Expected second operand in cast expression");return new Me(a,i)}}function Ue(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function Xe(t,n){var a=t.peek().match(ia);if(a){if("*"==a[1]||"*"==a[2])throw new e("XPST0003","Illegal use of wildcard in type name");return t.next(),new Ue(a[1]||null,a[2],a[1]?n.getURIForPrefix(a[1]):null)}}function _e(e){this.test=e}function Ye(t,n){if(!t.eof()){var a;if("item"==t.peek()&&"("==t.peek(1)){if(t.next(2),")"!=t.peek())throw new e("XPST0003","Expected ')' token in item type expression");return t.next(),new _e}return(a=Z(t,n))?new _e(a):(a=Xe(t,n))?new _e(a):void 0}}function $e(e,t){this.itemType=e||null,this.occurence=t||null}function Fe(t,n){if(!t.eof()){if("empty-sequence"==t.peek()&&"("==t.peek(1)){if(t.next(2),")"!=t.peek())throw new e("XPST0003","Expected ')' token in sequence type");return t.next(),new $e}var a,i;return!t.eof()&&(a=Ye(t,n))?(i=t.peek(),"?"==i||"*"==i||"+"==i?t.next():i=null,new $e(a,i)):void 0}}function ze(e,t){this.itemType=e||null,this.occurence=t||null}function qe(e,t){var n,a;if(!e.eof()&&(n=Xe(e,t)))return a=e.peek(),"?"==a?e.next():a=null,new ze(n,a)}function Ge(){}function Ve(){}function Le(){}function Ke(e){return e instanceof pt||e instanceof rt||e instanceof ot}function Be(e,t,n,a,i){this.scheme=e,this.authority=t,this.path=n,this.query=a,this.fragment=i}function je(e){this.value=e}function He(e){this.value=e}function Qe(e,t,n,a,i){this.year=e,this.month=t,this.day=n,this.timezone=a,this.negative=i}function Ze(e,t){return 2==t&&(e%400==0||e%100!=0&&e%4==0)?29:fa[t-1]}function Je(e,t){if(!t){var n=Ze(e.year,e.month);if(e.day>n)for(;e.day>n;)e.month+=1,e.month>12&&(e.year+=1,0==e.year&&(e.year=1),e.month=1),e.day-=n,n=Ze(e.year,e.month);else if(e.day<1)for(;e.day<1;)e.month-=1,e.month<1&&(e.year-=1,0==e.year&&(e.year=-1),e.month=12),n=Ze(e.year,e.month),e.day+=n}return e.month>12?(e.year+=~~(e.month/12),0==e.year&&(e.year=1),e.month=e.month%12):e.month<1&&(e.year+=~~(e.month/12)-1,0==e.year&&(e.year=-1),e.month=e.month%12+12),e}function We(e,t,n,a,i,o,r,s){this.year=e,this.month=t,this.day=n,this.hours=a,this.minutes=i,this.seconds=o,this.timezone=r,this.negative=s}function et(e,t){return sValue=Pn(e),arguments.length<2&&(t=2),(sValue.length<t+1?new En(t+1-sValue.length).join("0"):"")+sValue}function tt(e){var t=e.timezone;return null==t?"":t?(t>0?"+":"-")+et(Sn.abs(~~(t/60)))+":"+et(Sn.abs(t%60)):"Z"}function nt(e){return(e.negative?"-":"")+et(e.year,4)+"-"+et(e.month)+"-"+et(e.day)}function at(e){var t=Pn(e.seconds).split(".");return et(e.hours)+":"+et(e.minutes)+":"+et(t[0])+(t.length>1?"."+t[1]:"")}function it(e){return Je(Tt(e))}function ot(e){this.value=e}function rt(e){this.value=e}function st(e,t,n,a,i,o,r){this.year=e,this.month=t,this.day=n,this.hours=a,this.minutes=i,this.seconds=o,this.negative=r}function lt(e){return(e.year?e.year+"Y":"")+(e.month?e.month+"M":"")}function ct(e){return(e.day?e.day+"D":"")+(e.hours||e.minutes||e.seconds?"T"+(e.hours?e.hours+"H":"")+(e.minutes?e.minutes+"M":"")+(e.seconds?e.seconds+"S":""):"")}function ut(e){return Pt(Et(e))}function pt(e){this.value=e}function ft(e,t){this.day=e,this.timezone=t}function dt(e,t){this.month=e,this.timezone=t}function ht(e,t,n){this.month=e,this.day=t,this.timezone=n}function mt(e,t){this.year=e,this.timezone=t}function vt(e,t,n){this.year=e,this.month=t,this.timezone=n}function gt(e){this.value=e}function yt(){}function wt(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function bt(e){this.value=e}function xt(e,t,n,a){this.hours=e,this.minutes=t,this.seconds=n,this.timezone=a}function Tt(e){return(e.seconds>=60||e.seconds<0)&&(e.minutes+=~~(e.seconds/60)-(e.seconds<0&&e.seconds%60?1:0),e.seconds=e.seconds%60+(e.seconds<0&&e.seconds%60?60:0)),(e.minutes>=60||e.minutes<0)&&(e.hours+=~~(e.minutes/60)-(e.minutes<0&&e.minutes%60?1:0),e.minutes=e.minutes%60+(e.minutes<0&&e.minutes%60?60:0)),(e.hours>=24||e.hours<0)&&(e instanceof We&&(e.day+=~~(e.hours/24)-(e.hours<0&&e.hours%24?1:0)),e.hours=e.hours%24+(e.hours<0&&e.hours%24?24:0)),e}function It(e){this.value=e}function Nt(e,t,n){st.call(this,e,t,0,0,0,0,n)}function Pt(e){return e.month>=12&&(e.year+=~~(e.month/12),e.month%=12),e}function Dt(e,t,n,a,i){st.call(this,0,0,e,t,n,a,i)}function Et(e){return e.seconds>=60&&(e.minutes+=~~(e.seconds/60),e.seconds%=60),e.minutes>=60&&(e.hours+=~~(e.minutes/60),e.minutes%=60),e.hours>=24&&(e.day+=~~(e.hours/24),e.hours%=24),e}function Ot(e){this.value=e}function Rt(e){this.value=e}function At(e){this.value=e}function St(e){this.value=e}function kt(e){this.value=e}function Mt(e){this.value=e}function Ct(e){this.value=e}function Ut(e){this.value=e}function Xt(e){this.value=e}function _t(e){this.value=e}function Yt(e){this.value=e}function $t(e){this.value=e}function Ft(e){this.value=e}function zt(e){this.value=e}function qt(e){this.value=e}function Gt(e){this.value=e}function Vt(e){this.value=e}function Lt(e){this.value=e}function Kt(e){this.value=e}function Bt(e){this.value=e}function jt(e){this.value=e}function Ht(){}function Qt(){}function Zt(){}function Jt(){}function Wt(){}function en(){}function tn(){}function nn(){}function an(e,t,n){var a=dn(e),i=dn(t);return new He("lt"==n?a<i:"gt"==n?a>i:a==i)}function on(e,t,n){return rn(We.cast(e),We.cast(t),n)}function rn(e,t,n){var a=new Dt(0,0,0,0),i=yn(e,a).toString(),o=yn(t,a).toString();return new He("lt"==n?i<o:"gt"==n?i>o:i==o)}function sn(e,t,n){var a;e instanceof Qe?a=new Qe(e.year,e.month,e.day,e.timezone,e.negative):e instanceof We&&(a=new We(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative)),a.year=a.year+t.year*("-"==n?-1:1),a.month=a.month+t.month*("-"==n?-1:1),Je(a,!0);var i=Ze(a.year,a.month);return a.day>i&&(a.day=i),a}function ln(e,t,n){var a;return e instanceof Qe?(a=new Qe(e.year,e.month,e.day,e.timezone,e.negative),a.day=a.day+t.day*("-"==n?-1:1),Je(a)):e instanceof We&&(a=new We(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative),a.seconds=a.seconds+t.seconds*("-"==n?-1:1),a.minutes=a.minutes+t.minutes*("-"==n?-1:1),a.hours=a.hours+t.hours*("-"==n?-1:1),a.day=a.day+t.day*("-"==n?-1:1),it(a)),a}function cn(e){return(60*(60*(24*e.day+e.hours)+e.minutes)+e.seconds)*(e.negative?-1:1)}function un(e){var t=(e=Sn.round(e))<0,n=~~((e=Sn.abs(e))/86400),a=~~((e-=3600*n*24)/3600),i=~~((e-=3600*a)/60),o=e-=60*i;return new Dt(n,a,i,o,t)}function pn(e){return(12*e.year+e.month)*(e.negative?-1:1)}function fn(e){var t=(e=Sn.round(e))<0,n=~~((e=Sn.abs(e))/12),a=e-=12*n;return new Nt(n,a,t)}function dn(e){return e.seconds+60*(e.minutes-(null!=e.timezone?e.timezone%60:0)+60*(e.hours-(null!=e.timezone?~~(e.timezone/60):0)))}function hn(e,t){if(Mn(e)||Sn.abs(e)==Xn||Mn(t)||Sn.abs(t)==Xn)return 0;var n=Pn(e).match(oa),a=Pn(t).match(oa),i=Sn.max(1,(n[2]||n[3]||"").length+(n[5]||0)*("+"==n[4]?-1:1),(a[2]||a[3]||"").length+(a[5]||0)*("+"==a[4]?-1:1));return i+(i%2?0:1)}function mn(e,t,n){return new(e instanceof Ot&&t instanceof Ot&&n==Sn.round(n)?Ot:ot)(n)}function vn(e,t){if(null==e)return null;var n=e[t]*(e.negative?-1:1);return"seconds"==t?new ot(n):new Ot(n)}function gn(e,t){if(null==e)return null;if("timezone"==t){var n=e.timezone;return null==n?null:new Dt(0,Sn.abs(~~(n/60)),Sn.abs(n%60),0,n<0)}var a=e[t];return e instanceof Qe||"hours"==t&&24==a&&(a=0),e instanceof xt||(a*=e.negative?-1:1),"seconds"==t?new ot(a):new Ot(a)}function yn(e,t){if(null==e)return null;var n;if(n=e instanceof Qe?new Qe(e.year,e.month,e.day,e.timezone,e.negative):e instanceof xt?new xt(e.hours,e.minutes,e.seconds,e.timezone,e.negative):new We(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative),null==t)n.timezone=null;else{var a=cn(t)/60;if(null!=e.timezone){var i=a-e.timezone;e instanceof Qe?i<0&&n.day--:(n.minutes+=i%60,n.hours+=~~(i/60)),it(n)}n.timezone=a}return n}function wn(t,n){if(!t.length)return!1;var a=t[0];if(n.DOMAdapter.isNode(a))return!0;if(1==t.length){if(a instanceof He)return a.value.valueOf();if(a instanceof bt)return!!a.valueOf().length;if(Ke(a))return!(Mn(a.valueOf())||0==a.valueOf());throw new e("FORG0006","Effective boolean value is defined only for sequences containing booleans, strings, numbers, URIs, or nodes")}throw new e("FORG0006","Effective boolean value is not defined for a sequence of two or more items")}function bn(e,t){for(var n,a,i=[],o=0,r=e.length;o<r;o++){if(n=e[o],a=null,null==n)a=null;else if(t.DOMAdapter.isNode(n)){var s=t.DOMAdapter.getProperty;switch(s(n,"nodeType")){case 1:a=new It(s(n,"textContent"));break;case 2:a=new It(s(n,"value"));break;case 3:case 4:case 8:a=new It(s(n,"data"));break;case 7:a=new It(s(n,"data"));break;case 9:var l=s(n,"documentElement");a=new It(l?s(l,"textContent"):"")}}else n instanceof Le&&(a=n);null!=a&&i.push(a)}return i}function xn(e,t){return e.sort(function(e,n){var a=t.DOMAdapter.compareDocumentPosition(e,n);return 2&a?1:4&a?-1:0})}function Tn(t,n){var a="À-ÖØ-öø-˿",i="Ͱ-ͽͿ-῿‌-‍",o="⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�",r="A-Z_a-z\\-.0-9·"+a+"̀-ͯ"+i+"‿-⁀"+o,s="A-Z_a-z"+a+i+o;if(t=t.replace(/\[\\i-\[:\]\]/g,"["+s+"]").replace(/\[\\c-\[:\]\]/g,"["+r+"]").replace(/\\i/g,"[:"+s+"]").replace(/\\I/g,"[^:"+s+"]").replace(/\\c/g,"[:"+r+"]").replace(/\\C/g,"[^:"+r+"]"),n&&!n.match(/^[smix]+$/))throw new e("FORX0001");var l=n.indexOf("s")>=0,c=n.indexOf("x")>=0;if(l||c){n=n.replace(/[sx]/g,"");for(var u,p=[],f=/\s/,d=0,h=t.length,m=!1,v="";d<h;d++)u=t.charAt(d),"\\"!=v&&("["==u?m=!0:"]"==u&&(m=!1)),!m&&c&&f.test(u)||(!m&&l&&"."==u&&"\\"!=v?p[p.length]="(?:.|\\s)":p[p.length]=u),v=u;t=p.join("")}return new On(t,n+"g")}function In(){}function Nn(e,t,n){"undefined"!=typeof t&&null!==t||(t="");var o=e[0];"undefined"==typeof o&&(o=null);var r=o&&"DIV"==(9==o.nodeType?o:o.ownerDocument).createElement("div").tagName?Fa:za;r.namespaceResolver=n;var l=new s(Pn(t),r);r.namespaceResolver=null;var c,u=new Xa,p=ka;Ya?p=r==Fa?Ca:Ua:$a&&r==Fa&&(p=Ma),c=l.evaluate(new a(r,o,null,p));for(var f,d=0,h=c.length;d<h;d++)u.push(p.isNode(f=c[d])?f:i.xs2js(f));return u}var Pn=window.String,Dn=(window.Boolean,window.Number),En=(window.Object,window.Array),On=window.RegExp,Rn=window.Date,An=window.Function,Sn=window.Math,kn=window.Error,Mn=(window.SyntaxError,window.TypeError,window.isNaN),Cn=window.isFinite,Un=window.NaN,Xn=window.Infinity,_n=function(){return Pn.prototype.trim?function(e){return Pn(e).trim()}:function(e){return Pn(e).replace(/^\s+|\s+$/g,"")}}(),Yn=function(){return En.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1}}(),$n="http://www.w3.org/2001/XMLSchema",Fn="http://www.w3.org/2005/xpath-functions",zn="http://www.w3.org/2000/xmlns/",qn="http://www.w3.org/XML/1998/namespace";e.prototype=new kn;var Gn={};Gn.XPDY0002="Evaluation of an expression relies on some part of the dynamic context that has not been assigned a value.",Gn.XPST0003="Expression is not a valid instance of the grammar",Gn.XPTY0004="Type is not appropriate for the context in which the expression occurs",Gn.XPST0008="Expression refers to an element name, attribute name, schema type name, namespace prefix, or variable name that is not defined in the static context",Gn.XPST0010="Axis not supported",Gn.XPST0017="Expanded QName and number of arguments in a function call do not match the name and arity of a function signature",Gn.XPTY0018="The result of the last step in a path expression contains both nodes and atomic values",Gn.XPTY0019="The result of a step (other than the last step) in a path expression contains an atomic value.",Gn.XPTY0020="In an axis step, the context item is not a node.",Gn.XPST0051="It is a static error if a QName that is used as an AtomicType in a SequenceType is not defined in the in-scope schema types as an atomic type.",Gn.XPST0081="A QName used in an expression contains a namespace prefix that cannot be expanded into a namespace URI by using the statically known namespaces.",Gn.FORG0001="Invalid value for cast/constructor.",Gn.FORG0003="fn:zero-or-one called with a sequence containing more than one item.",Gn.FORG0004="fn:one-or-more called with a sequence containing no items.",Gn.FORG0005="fn:exactly-one called with a sequence containing zero or more than one item.",Gn.FORG0006="Invalid argument type.",Gn.FODC0001="No context document.",Gn.FORX0001="Invalid regular expression flags.",Gn.FOCA0002="Invalid lexical value.",Gn.FOCH0002="Unsupported collation.",Gn.FONS0004="No namespace found for prefix.",t.prototype.index=0,t.prototype.length=0,t.prototype.reset=function(){this.index=0},t.prototype.peek=function(e){return this[this.index+(e||0)]||""},t.prototype.next=function(e){return(this.index+=e||1)<this.length},t.prototype.back=function(e){return(this.index-=e||1)>0},t.prototype.eof=function(){return this.index>=this.length},n.prototype.isNode=function(e){return e&&!!e.nodeType},n.prototype.getProperty=function(e,t){return e[t]},n.prototype.isSameNode=function(e,t){return e==t},n.prototype.compareDocumentPosition=function(e,t){return e.compareDocumentPosition(t)},n.prototype.lookupNamespaceURI=function(e,t){return e.lookupNamespaceURI(t)},n.prototype.getElementById=function(e,t){return e.getElementById(t)},n.prototype.getElementsByTagNameNS=function(e,t,n){return e.getElementsByTagNameNS(t,n)},a.prototype.item=null,a.prototype.position=0,a.prototype.size=0,a.prototype.scope=null,a.prototype.stack=null,a.prototype.dateTime=null,a.prototype.timezone=null,a.prototype.staticContext=null,a.prototype.pushVariable=function(e,t){this.stack.hasOwnProperty(e)||(this.stack[e]=[]),this.stack[e].push(this.scope[e]),this.scope[e]=t},a.prototype.popVariable=function(e){this.stack.hasOwnProperty(e)&&(this.scope[e]=this.stack[e].pop(),this.stack[e].length||(delete this.stack[e],"undefined"==typeof this.scope[e]&&delete this.scope[e]))},i.prototype.baseURI=null,i.prototype.dataTypes=null,i.prototype.documents=null,i.prototype.functions=null,i.prototype.defaultFunctionNamespace=null,i.prototype.collations=null,i.prototype.defaultCollationName=Fn+"/collation/codepoint",i.prototype.collections=null,i.prototype.namespaceResolver=null,i.prototype.defaultElementNamespace=null;var Vn=/^(?:\{([^\}]+)\})?(.+)$/;i.prototype.setDataType=function(e,t){var n=e.match(Vn);n&&n[1]!=$n&&(this.dataTypes[e]=t)},i.prototype.getDataType=function(e){var t=e.match(Vn);if(t)return t[1]==$n?Bn[On.$2]:this.dataTypes[e]},i.prototype.setDocument=function(e,t){this.documents[e]=t},i.prototype.setFunction=function(e,t){var n=e.match(Vn);n&&n[1]!=Fn&&(this.functions[e]=t)},i.prototype.getFunction=function(e){var t=e.match(Vn);if(t)return t[1]==Fn?Ln[On.$2]:this.functions[e]},i.prototype.setCollation=function(e,t){this.collations[e]=t},i.prototype.getCollation=function(e){return this.collations[e]},i.prototype.setCollection=function(e,t){this.collections[e]=t},i.prototype.getURIForPrefix=function(t){var n,a=this.namespaceResolver,i=a&&a.lookupNamespaceURI?a.lookupNamespaceURI:a;if(i instanceof An&&(n=i.call(a,t)))return n;if("fn"==t)return Fn;if("xs"==t)return $n;if("xml"==t)return qn;if("xmlns"==t)return zn;throw new e("XPST0081","Prefix '"+t+"' has not been declared")},i.js2xs=function(e){return e="boolean"==typeof e?new He(e):"number"==typeof e?Mn(e)||!Cn(e)?new rt(e):ce(Pn(e)):new bt(Pn(e))},i.xs2js=function(e){return e=e instanceof He?e.valueOf():Ke(e)?e.valueOf():e.toString()};var Ln={},Kn={},Bn={},jn={};s.prototype.internalExpression=null,s.prototype.evaluate=function(e){return this.internalExpression.evaluate(e)},l.prototype.equals=function(e,t){throw"Not implemented"},l.prototype.compare=function(e,t){throw"Not implemented"},c.ANYSIMPLETYPE_DT=1,c.STRING_DT=2,c.BOOLEAN_DT=3,c.DECIMAL_DT=4,c.FLOAT_DT=5,c.DOUBLE_DT=6,c.DURATION_DT=7,c.DATETIME_DT=8,c.TIME_DT=9,c.DATE_DT=10,c.GYEARMONTH_DT=11,c.GYEAR_DT=12,c.GMONTHDAY_DT=13,c.GDAY_DT=14,c.GMONTH_DT=15,c.HEXBINARY_DT=16,c.BASE64BINARY_DT=17,c.ANYURI_DT=18,c.QNAME_DT=19,c.NOTATION_DT=20,c.NORMALIZEDSTRING_DT=21,c.TOKEN_DT=22,c.LANGUAGE_DT=23,c.NMTOKEN_DT=24,c.NAME_DT=25,c.NCNAME_DT=26,c.ID_DT=27,c.IDREF_DT=28,c.ENTITY_DT=29,c.INTEGER_DT=30,c.NONPOSITIVEINTEGER_DT=31,c.NEGATIVEINTEGER_DT=32,c.LONG_DT=33,c.INT_DT=34,c.SHORT_DT=35,c.BYTE_DT=36,c.NONNEGATIVEINTEGER_DT=37,c.UNSIGNEDLONG_DT=38,c.UNSIGNEDINT_DT=39,c.UNSIGNEDSHORT_DT=40,c.UNSIGNEDBYTE_DT=41,c.POSITIVEINTEGER_DT=42,c.LISTOFUNION_DT=43,c.LIST_DT=44,c.UNAVAILABLE_DT=45,c.DATETIMESTAMP_DT=46,c.DAYMONTHDURATION_DT=47,c.DAYTIMEDURATION_DT=48,c.PRECISIONDECIMAL_DT=49,c.ANYATOMICTYPE_DT=50,c.ANYTYPE_DT=51,c.XT_YEARMONTHDURATION_DT=-1,
c.XT_UNTYPEDATOMIC_DT=-2,u.prototype.items=null,u.prototype.evaluate=function(e){for(var t=[],n=0,a=this.items.length;n<a;n++)t=jn.concatenate.call(e,t,this.items[n].evaluate(e));return t},d.prototype.bindings=null,d.prototype.returnExpr=null,d.prototype.evaluate=function(e){var t=[];return function(n,a){for(var i=n.bindings[a++],o=i.inExpr.evaluate(e),r=(i.namespaceURI?"{"+i.namespaceURI+"}":"")+i.localName,s=0,l=o.length;s<l;s++)e.pushVariable(r,o[s]),a<n.bindings.length?arguments.callee(n,a):t=t.concat(n.returnExpr.evaluate(e)),e.popVariable(r)}(this,0),t},m.prototype.prefix=null,m.prototype.localName=null,m.prototype.namespaceURI=null,m.prototype.inExpr=null,g.prototype.condExpr=null,g.prototype.thenExpr=null,g.prototype.elseExpr=null,g.prototype.evaluate=function(e){return this[wn(this.condExpr.evaluate(e),e)?"thenExpr":"elseExpr"].evaluate(e)},w.prototype.bindings=null,w.prototype.quantifier=null,w.prototype.satisfiesExpr=null,w.prototype.evaluate=function(e){var t="every"==this.quantifier,n=!!t;return function(a,i){for(var o=a.bindings[i++],r=o.inExpr.evaluate(e),s=(o.namespaceURI?"{"+o.namespaceURI+"}":"")+o.localName,l=0,c=r.length;l<c&&(t?n:!n);l++)e.pushVariable(s,r[l]),i<a.bindings.length?arguments.callee(a,i):n=wn(a.satisfiesExpr.evaluate(e),e),e.popVariable(s)}(this,0),[new He(n)]},x.prototype.prefix=null,x.prototype.localName=null,x.prototype.namespaceURI=null,x.prototype.inExpr=null,I.prototype.left=null,I.prototype.right=null,I.prototype.operator=null,I.prototype.evaluate=function(e){var t=Jn[this.operator](this,e);return null==t?[]:[t]};var Hn={"=":"eq","!=":"ne",">":"gt","<":"lt",">=":"ge","<=":"le"},Qn={};Qn.eq=function(t,n,a){var i="";if(Ke(t))Ke(n)&&(i="numeric-equal");else if(t instanceof He)n instanceof He&&(i="boolean-equal");else if(t instanceof bt){if(n instanceof bt)return jn["numeric-equal"].call(a,Ln.compare.call(a,t,n),new Ot(0))}else t instanceof Qe?n instanceof Qe&&(i="date-equal"):t instanceof xt?n instanceof xt&&(i="time-equal"):t instanceof We?n instanceof We&&(i="dateTime-equal"):t instanceof st?n instanceof st&&(i="duration-equal"):t instanceof vt?n instanceof vt&&(i="gYearMonth-equal"):t instanceof mt?n instanceof mt&&(i="gYear-equal"):t instanceof ht?n instanceof ht&&(i="gMonthDay-equal"):t instanceof dt?n instanceof dt&&(i="gMonth-equal"):t instanceof ft?n instanceof ft&&(i="gDay-equal"):t instanceof wt?n instanceof wt&&(i="QName-equal"):t instanceof gt?n instanceof gt&&(i="hexBinary-equal"):t instanceof je&&n instanceof je&&(i="base64Binary-equal");if(i)return jn[i].call(a,t,n);throw new e("XPTY0004","Cannot compare values of given types")},Qn.ne=function(e,t,n){return new He(!Qn.eq(e,t,n).valueOf())},Qn.gt=function(t,n,a){var i="";if(Ke(t))Ke(n)&&(i="numeric-greater-than");else if(t instanceof He)n instanceof He&&(i="boolean-greater-than");else if(t instanceof bt){if(n instanceof bt)return jn["numeric-greater-than"].call(a,Ln.compare.call(a,t,n),new Ot(0))}else t instanceof Qe?n instanceof Qe&&(i="date-greater-than"):t instanceof xt?n instanceof xt&&(i="time-greater-than"):t instanceof We?n instanceof We&&(i="dateTime-greater-than"):t instanceof Nt?n instanceof Nt&&(i="yearMonthDuration-greater-than"):t instanceof Dt&&n instanceof Dt&&(i="dayTimeDuration-greater-than");if(i)return jn[i].call(a,t,n);throw new e("XPTY0004","Cannot compare values of given types")},Qn.lt=function(t,n,a){var i="";if(Ke(t))Ke(n)&&(i="numeric-less-than");else if(t instanceof He)n instanceof He&&(i="boolean-less-than");else if(t instanceof bt){if(n instanceof bt)return jn["numeric-less-than"].call(a,Ln.compare.call(a,t,n),new Ot(0))}else t instanceof Qe?n instanceof Qe&&(i="date-less-than"):t instanceof xt?n instanceof xt&&(i="time-less-than"):t instanceof We?n instanceof We&&(i="dateTime-less-than"):t instanceof Nt?n instanceof Nt&&(i="yearMonthDuration-less-than"):t instanceof Dt&&n instanceof Dt&&(i="dayTimeDuration-less-than");if(i)return jn[i].call(a,t,n);throw new e("XPTY0004","Cannot compare values of given types")},Qn.ge=function(t,n,a){var i="";if(Ke(t)){if(Ke(n))return jn["numeric-greater-than"].call(a,t,n)||jn["numeric-equal"].call(a,t,n)}else if(t instanceof He)n instanceof He&&(i="boolean-less-than");else if(t instanceof bt){if(n instanceof bt)return jn["numeric-greater-than"].call(a,Ln.compare.call(a,t,n),new Ot(-1))}else t instanceof Qe?n instanceof Qe&&(i="date-less-than"):t instanceof xt?n instanceof xt&&(i="time-less-than"):t instanceof We?n instanceof We&&(i="dateTime-less-than"):t instanceof Nt?n instanceof Nt&&(i="yearMonthDuration-less-than"):t instanceof Dt&&n instanceof Dt&&(i="dayTimeDuration-less-than");if(i)return new He(!jn[i].call(a,t,n).valueOf());throw new e("XPTY0004","Cannot compare values of given types")},Qn.le=function(t,n,a){var i="";if(Ke(t)){if(Ke(n))return jn["numeric-less-than"].call(a,t,n)||jn["numeric-equal"].call(a,t,n)}else if(t instanceof He)n instanceof He&&(i="boolean-greater-than");else if(t instanceof bt){if(n instanceof bt)return jn["numeric-less-than"].call(a,Ln.compare.call(a,t,n),new Ot(1))}else t instanceof Qe?n instanceof Qe&&(i="date-greater-than"):t instanceof xt?n instanceof xt&&(i="time-greater-than"):t instanceof We?n instanceof We&&(i="dateTime-greater-than"):t instanceof Nt?n instanceof Nt&&(i="yearMonthDuration-greater-than"):t instanceof Dt&&n instanceof Dt&&(i="dayTimeDuration-greater-than");if(i)return new He(!jn[i].call(a,t,n).valueOf());throw new e("XPTY0004","Cannot compare values of given types")};var Zn={};Zn.is=function(e,t,n){return jn["is-same-node"].call(n,e,t)},Zn[">>"]=function(e,t,n){return jn["node-after"].call(n,e,t)},Zn["<<"]=function(e,t,n){return jn["node-before"].call(n,e,t)};var Jn={"=":P,"!=":P,"<":P,"<=":P,">":P,">=":P,eq:D,ne:D,lt:D,le:D,gt:D,ge:D,is:E,">>":E,"<<":E};O.prototype.left=null,O.prototype.items=null;var Wn={};Wn["+"]=function(t,n,a){var i="",o=!1;if(Ke(t)?Ke(n)&&(i="numeric-add"):t instanceof Qe?n instanceof Nt?i="add-yearMonthDuration-to-date":n instanceof Dt&&(i="add-dayTimeDuration-to-date"):t instanceof Nt?n instanceof Qe?(i="add-yearMonthDuration-to-date",o=!0):n instanceof We?(i="add-yearMonthDuration-to-dateTime",o=!0):n instanceof Nt&&(i="add-yearMonthDurations"):t instanceof Dt?n instanceof Qe?(i="add-dayTimeDuration-to-date",o=!0):n instanceof xt?(i="add-dayTimeDuration-to-time",o=!0):n instanceof We?(i="add-dayTimeDuration-to-dateTime",o=!0):n instanceof Dt&&(i="add-dayTimeDurations"):t instanceof xt?n instanceof Dt&&(i="add-dayTimeDuration-to-time"):t instanceof We&&(n instanceof Nt?i="add-yearMonthDuration-to-dateTime":n instanceof Dt&&(i="add-dayTimeDuration-to-dateTime")),i)return jn[i].call(a,o?n:t,o?t:n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},Wn["-"]=function(t,n,a){var i="";if(Ke(t)?Ke(n)&&(i="numeric-subtract"):t instanceof Qe?n instanceof Qe?i="subtract-dates":n instanceof Nt?i="subtract-yearMonthDuration-from-date":n instanceof Dt&&(i="subtract-dayTimeDuration-from-date"):t instanceof xt?n instanceof xt?i="subtract-times":n instanceof Dt&&(i="subtract-dayTimeDuration-from-time"):t instanceof We?n instanceof We?i="subtract-dateTimes":n instanceof Nt?i="subtract-yearMonthDuration-from-dateTime":n instanceof Dt&&(i="subtract-dayTimeDuration-from-dateTime"):t instanceof Nt?n instanceof Nt&&(i="subtract-yearMonthDurations"):t instanceof Dt&&n instanceof Dt&&(i="subtract-dayTimeDurations"),i)return jn[i].call(a,t,n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},O.prototype.evaluate=function(e){var t=bn(this.left.evaluate(e),e);if(!t.length)return[];be(e,t,"?","first operand of '"+this.items[0][0]+"'");var n=t[0];n instanceof It&&(n=rt.cast(n));for(var a,i,o=0,r=this.items.length;o<r;o++){if(a=bn(this.items[o][1].evaluate(e),e),!a.length)return[];be(e,a,"?","first operand of '"+this.items[o][0]+"'"),i=a[0],i instanceof It&&(i=rt.cast(i)),n=Wn[this.items[o][0]](n,i,e)}return[n]},A.prototype.left=null,A.prototype.items=null;var ea={};ea["*"]=function(t,n,a){var i="",o=!1;if(Ke(t)?Ke(n)?i="numeric-multiply":n instanceof Nt?(i="multiply-yearMonthDuration",o=!0):n instanceof Dt&&(i="multiply-dayTimeDuration",o=!0):t instanceof Nt?Ke(n)&&(i="multiply-yearMonthDuration"):t instanceof Dt&&Ke(n)&&(i="multiply-dayTimeDuration"),i)return jn[i].call(a,o?n:t,o?t:n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},ea.div=function(t,n,a){var i="";if(Ke(t)?Ke(n)&&(i="numeric-divide"):t instanceof Nt?Ke(n)?i="divide-yearMonthDuration":n instanceof Nt&&(i="divide-yearMonthDuration-by-yearMonthDuration"):t instanceof Dt&&(Ke(n)?i="divide-dayTimeDuration":n instanceof Dt&&(i="divide-dayTimeDuration-by-dayTimeDuration")),i)return jn[i].call(a,t,n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},ea.idiv=function(t,n,a){if(Ke(t)&&Ke(n))return jn["numeric-integer-divide"].call(a,t,n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},ea.mod=function(t,n,a){if(Ke(t)&&Ke(n))return jn["numeric-mod"].call(a,t,n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},A.prototype.evaluate=function(e){var t=bn(this.left.evaluate(e),e);if(!t.length)return[];be(e,t,"?","first operand of '"+this.items[0][0]+"'");var n=t[0];n instanceof It&&(n=rt.cast(n));for(var a,i,o=0,r=this.items.length;o<r;o++){if(a=bn(this.items[o][1].evaluate(e),e),!a.length)return[];be(e,a,"?","second operand of '"+this.items[o][0]+"'"),i=a[0],i instanceof It&&(i=rt.cast(i)),n=ea[this.items[o][0]](n,i,e)}return[n]},k.prototype.operator=null,k.prototype.expression=null;var ta={};ta["-"]=function(t,n){if(Ke(t))return jn["numeric-unary-minus"].call(n,t);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},ta["+"]=function(t,n){if(Ke(t))return jn["numeric-unary-plus"].call(n,t);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},k.prototype.evaluate=function(e){var t=bn(this.expression.evaluate(e),e);if(!t.length)return[];be(e,t,"?","second operand of '"+this.operator+"'");var n=t[0];return n instanceof It&&(n=rt.cast(n)),[ta[this.operator](n,e)]},U.prototype.left=null,U.prototype.items=null,U.prototype.evaluate=function(e){for(var t=wn(this.left.evaluate(e),e),n=0,a=this.items.length;n<a&&!t;n++)t=wn(this.items[n].evaluate(e),e);return[new He(t)]},_.prototype.left=null,_.prototype.items=null,_.prototype.evaluate=function(e){for(var t=wn(this.left.evaluate(e),e),n=0,a=this.items.length;n<a&&t;n++)t=wn(this.items[n].evaluate(e),e);return[new He(t)]},$.prototype.predicates=null,$.prototype.applyPredicates=function(e,t){for(var n,a=t.item,i=t.position,o=t.size,r=0,s=this.predicates.length;r<s;r++){n=e,e=[];for(var l,c=0,u=n.length;c<u;c++)t.item=n[c],t.position=c+1,t.size=u,l=this.predicates[r].evaluate(t),1==l.length&&Ke(l[0])?l[0].valueOf()==c+1&&e.push(n[c]):wn(l,t)&&e.push(n[c])}return t.item=a,t.position=i,t.size=o,e},q.prototype=new $,q.prototype.axis=null,q.prototype.test=null;var na={};na.attribute={},na.child={},na.descendant={},na["descendant-or-self"]={},na.following={},na["following-sibling"]={},na.self={},na.ancestor={},na["ancestor-or-self"]={},na.parent={},na.preceding={},na["preceding-sibling"]={},q.prototype.evaluate=function(t){var n=t.item;if(!t.DOMAdapter.isNode(n))throw new e("XPTY0020");var a=[],i=t.DOMAdapter.getProperty,o=i(n,"nodeType");switch(this.axis){case"attribute":if(1==o)for(var r=i(n,"attributes"),s=0,l=r.length;s<l;s++)a.push(r[s]);break;case"child":for(var c=i(n,"firstChild");c;c=i(c,"nextSibling"))a.push(c);break;case"descendant-or-self":a.push(n);case"descendant":V(i(n,"firstChild"),a,i);break;case"following":for(var u,p=n;p;p=i(p,"parentNode"))(u=i(p,"nextSibling"))&&V(u,a,i);break;case"following-sibling":for(var c=n;c=i(c,"nextSibling");)a.push(c);break;case"self":a.push(n);break;case"ancestor-or-self":a.push(n);case"ancestor":for(var c=2==o?i(n,"ownerElement"):n;c=i(c,"parentNode");)a.push(c);break;case"parent":var p=2==o?i(n,"ownerElement"):i(n,"parentNode");p&&a.push(p);break;case"preceding":for(var u,p=n;p;p=i(p,"parentNode"))(u=i(p,"previousSibling"))&&L(u,a,i);break;case"preceding-sibling":for(var c=n;c=i(c,"previousSibling");)a.push(c)}if(a.length&&!(this.test instanceof Q&&"node"==this.test.name)){var f=a;a=[];for(var s=0,l=f.length;s<l;s++)this.test.test(f[s],t)&&a.push(f[s])}switch(a.length&&this.predicates.length&&(a=this.applyPredicates(a,t)),this.axis){case"ancestor":case"ancestor-or-self":case"parent":case"preceding":case"preceding-sibling":a.reverse()}return a},K.prototype.items=null,K.prototype.evaluate=function(t){for(var n,a=t.item,i=[a],o=0,r=this.items.length;o<r;o++){n=[];for(var s=0,l=i.length;s<l;s++){t.item=i[s];for(var c=0,u=this.items[o].evaluate(t),p=u.length;c<p;c++){if(o<r-1&&!t.DOMAdapter.isNode(u[c]))throw new e("XPTY0019");Yn(n,u[c])==-1&&n.push(u[c])}}i=n}return t.item=a,xn(i,t)},Q.prototype=new j,Q.prototype.name=null,Q.prototype.args=null;var aa={};aa["document-node"]={},aa.element={},aa.attribute={},aa["processing-instruction"]={},aa.comment={},aa.text={},aa.node={},aa["schema-element"]={},aa["schema-attribute"]={},Q.prototype.test=function(e,t){var n=t.DOMAdapter.getProperty,a=t.DOMAdapter.isNode(e)?n(e,"nodeType"):0;switch(this.name){case"node":return!!a;case"attribute":if(2!=a)return!1;break;case"document-node":return 9==a;case"element":return 1==a;case"processing-instruction":if(7!=a)return!1;break;case"comment":return 8==a;case"text":return 3==a||4==a;case"schema-attribute":throw"KindTest 'schema-attribute' not implemented";case"schema-element":throw"KindTest 'schema-element' not implemented"}return 2==a?"xmlns"!=n(e,"prefix")&&"xmlns"!=n(e,"localName"):7!=a||"xml"!=n(e,"target")},J.prototype=new j,J.prototype.prefix=null,J.prototype.localName=null,J.prototype.namespaceURI=null;var ia=/^(?:(?![0-9-])([\w-]+|\*)\:)?(?![0-9-])([\w-]+|\*)$/;J.prototype.test=function(e,t){var n=t.DOMAdapter.getProperty,a=n(e,"nodeType");if(1==a||2==a){if("*"==this.localName)return(1==a||"xmlns"!=n(e,"prefix")&&"xmlns"!=n(e,"localName"))&&(!this.prefix||n(e,"namespaceURI")==this.namespaceURI);if(this.localName==n(e,"localName"))return"*"==this.namespaceURI||2==a&&!this.prefix&&!n(e,"prefix")||n(e,"namespaceURI")==this.namespaceURI}return!1},te.prototype.evaluate=function(e){return this.expression?this.expression.evaluate(e):[]},ae.prototype.evaluate=function(t){if(null==t.item)throw new e("XPDY0002","Dynamic context does not have context item initialized");return[t.item]},oe.prototype.value=null,oe.prototype.evaluate=function(e){return[this.value]},se.prototype=new oe;var oa=/^[+\-]?(?:(?:(\d+)(?:\.(\d*))?)|(?:\.(\d+)))(?:[eE]([+-])?(\d+))?$/;ue.prototype=new oe;var ra=/^'([^']*(?:''[^']*)*)'|"([^"]*(?:""[^"]*)*)"$/;fe.prototype=new $,fe.prototype.expression=null,fe.prototype.evaluate=function(e){var t=this.expression.evaluate(e);return this.predicates.length&&t.length&&(t=this.applyPredicates(t,e)),t},he.prototype.prefix=null,he.prototype.localName=null,he.prototype.namespaceURI=null,he.prototype.evaluate=function(t){var n=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName;if(t.scope.hasOwnProperty(n))return[t.scope[n]];throw new e("XPST0008","Variable $"+(this.prefix?this.prefix+":":"")+this.localName+" has not been declared")},ve.prototype.prefix=null,ve.prototype.localName=null,ve.prototype.namespaceURI=null,ve.prototype.args=null,ve.prototype.evaluate=function(t){for(var n,a,i=[],o=0,r=this.args.length;o<r;o++)i.push(this.args[o].evaluate(t));var s=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName;if(this.namespaceURI==Fn){if(a=Ln[this.localName]){(n=Kn[this.localName])&&ye(this.localName,n,a,i,t);var l=a.apply(t,i);return null==l?[]:l instanceof En?l:[l]}throw new e("XPST0017","Unknown system function: "+s+"()")}if(this.namespaceURI==$n){if((a=Bn[this.localName])&&"NOTATION"!=this.localName&&"anyAtomicType"!=this.localName)return ye(this.localName,[[Le]],a,i,t),[a.cast(i[0])];throw new e("XPST0017","Unknown type constructor function: "+s+"()")}if(a=t.staticContext.getFunction(s)){var l=a.apply(t,i);return null==l?[]:l instanceof En?l:[l]}throw new e("XPST0017","Unknown user function: "+s+"()")};var sa=["first","second","third","fourth","fifth"];xe.prototype.left=null,xe.prototype.items=null,xe.prototype.evaluate=function(e){for(var t,n=this.left.evaluate(e),a=0,i=this.items.length;a<i;a++)n=jn[(t=this.items[a])[0]].call(e,n,t[1].evaluate(e));return n},Ie.prototype.left=null,Ie.prototype.right=null,Ie.prototype.evaluate=function(e){var t=this.left.evaluate(e);if(!t.length)return[];var n="first operand of 'to'";be(e,t,"?",n),we(e,t,Ot,n);var a=this.right.evaluate(e);return a.length?(n="second operand of 'to'",be(e,a,"?",n),we(e,a,Ot,n),jn.to.call(e,t[0],a[0])):[]},Pe.prototype.left=null,Pe.prototype.items=null,Pe.prototype.evaluate=function(e){for(var t=this.left.evaluate(e),n=0,a=this.items.length;n<a;n++)t=jn.union.call(e,t,this.items[n].evaluate(e));return t},Ee.prototype.expression=null,Ee.prototype.type=null,Ee.prototype.evaluate=function(e){var t=this.expression.evaluate(e),n=this.type.itemType,a=this.type.occurence;if(!n)return[new He(!t.length)];if(!t.length)return[new He("?"==a||"*"==a)];if(1!=t.length&&"+"!=a&&"*"!=a)return[new He(!1)];if(!n.test)return[new He(!0)];for(var i=!0,o=0,r=t.length;o<r&&i;o++)i=n.test.test(t[o],e);return[new He(i)]},Re.prototype.expression=null,Re.prototype.type=null,Re.prototype.evaluate=function(t){var n=this.expression.evaluate(t),a=this.type.itemType,i=this.type.occurence;if(!a){if(n.length)throw new e("XPDY0050","The only value allowed for the value in 'treat as' expression is an empty sequence");return n}if("?"!=i&&"*"!=i&&!n.length)throw new e("XPDY0050","An empty sequence is not allowed as the value in 'treat as' expression");if("+"!=i&&"*"!=i&&1!=n.length)throw new e("XPDY0050","A sequence of more than one item is not allowed as the value in 'treat as' expression");if(!a.test)return n;for(var o=0,r=n.length;o<r;o++)if(!a.test.test(n[o],t))throw new e("XPDY0050","Required item type of value in 'treat as' expression is "+(a.test.prefix?a.test.prefix+":":"")+a.test.localName);return n},Se.prototype.expression=null,Se.prototype.type=null,Se.prototype.evaluate=function(t){var n=this.expression.evaluate(t),a=this.type.itemType,i=this.type.occurence;if(n.length>1)return[new He(!1)];if(!n.length)return[new He("?"==i)];try{a.cast(bn(n,t)[0])}catch(t){if("XPST0051"==t.code)throw t;if("XPST0017"==t.code)throw new e("XPST0080","No value is castable to "+(a.prefix?a.prefix+":":"")+a.localName);return[new He(!1)]}return[new He(!0)]},Me.prototype.expression=null,Me.prototype.type=null,Me.prototype.evaluate=function(e){var t=this.expression.evaluate(e);return be(e,t,this.type.occurence,"'cast as' expression operand"),t.length?[this.type.itemType.cast(bn(t,e)[0],e)]:[]},Ue.prototype.prefix=null,Ue.prototype.localName=null,Ue.prototype.namespaceURI=null,Ue.prototype.test=function(t,n){var a=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName,i=this.namespaceURI==$n?Bn[this.localName]:n.staticContext.getDataType(a);if(i)return t instanceof i;throw new e("XPST0051","Unknown simple type "+(this.prefix?this.prefix+":":"")+this.localName)},Ue.prototype.cast=function(t,n){var a=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName,i=this.namespaceURI==$n?Bn[this.localName]:n.staticContext.getDataType(a);if(i)return i.cast(t);throw new e("XPST0051","Unknown atomic type "+(this.prefix?this.prefix+":":"")+this.localName)},_e.prototype.test=null,$e.prototype.itemType=null,$e.prototype.occurence=null,ze.prototype.itemType=null,ze.prototype.occurence=null,Ve.prototype.builtInKind=c.ANYTYPE_DT,Ve.prototype=new Ge,Ve.prototype.builtInKind=c.ANYSIMPLETYPE_DT,Ve.prototype.primitiveKind=null,Ve.PRIMITIVE_ANYURI="anyURI",Ve.PRIMITIVE_BASE64BINARY="base64Binary",Ve.PRIMITIVE_BOOLEAN="boolean",Ve.PRIMITIVE_DATE="date",Ve.PRIMITIVE_DATETIME="dateTime",Ve.PRIMITIVE_DECIMAL="decimal",Ve.PRIMITIVE_DOUBLE="double",Ve.PRIMITIVE_DURATION="duration",Ve.PRIMITIVE_FLOAT="float",Ve.PRIMITIVE_GDAY="gDay",Ve.PRIMITIVE_GMONTH="gMonth",Ve.PRIMITIVE_GMONTHDAY="gMonthDay",Ve.PRIMITIVE_GYEAR="gYear",Ve.PRIMITIVE_GYEARMONTH="gYearMonth",Ve.PRIMITIVE_HEXBINARY="hexBinary",Ve.PRIMITIVE_NOTATION="NOTATION",Ve.PRIMITIVE_QNAME="QName",Ve.PRIMITIVE_STRING="string",Ve.PRIMITIVE_TIME="time",Le.prototype=new Ve,Le.prototype.builtInKind=c.ANYATOMICTYPE_DT,Le.cast=function(t){throw new e("XPST0017","Abstract type used in constructor function xs:anyAtomicType")},r("anyAtomicType",Le),Be.prototype=new Le,Be.prototype.builtInKind=c.ANYURI_DT,Be.prototype.primitiveKind=Ve.PRIMITIVE_ANYURI,Be.prototype.scheme=null,Be.prototype.authority=null,Be.prototype.path=null,Be.prototype.query=null,Be.prototype.fragment=null,Be.prototype.toString=function(){return(this.scheme?this.scheme+":":"")+(this.authority?"//"+this.authority:"")+(this.path?this.path:"")+(this.query?"?"+this.query:"")+(this.fragment?"#"+this.fragment:"")};var la=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;Be.cast=function(t){if(t instanceof Be)return t;if(t instanceof bt||t instanceof It){var n;if(n=_n(t).match(la))return new Be(n[2],n[4],n[5],n[7],n[9]);throw new e("FORG0001")}throw new e("XPTY0004","Casting value '"+t+"' to xs:anyURI can never succeed")},r("anyURI",Be),je.prototype=new Le,je.prototype.builtInKind=c.BASE64BINARY_DT,je.prototype.primitiveKind=Ve.PRIMITIVE_BASE64BINARY,je.prototype.value=null,je.prototype.valueOf=function(){return this.value},je.prototype.toString=function(){return this.value};var ca=/^((([A-Za-z0-9+\/]\s*){4})*(([A-Za-z0-9+\/]\s*){3}[A-Za-z0-9+\/]|([A-Za-z0-9+\/]\s*){2}[AEIMQUYcgkosw048]\s*=|[A-Za-z0-9+\/]\s*[AQgw]\s*=\s*=))?$/;je.cast=function(t){if(t instanceof je)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(ca);if(n)return new je(n[0]);throw new e("FORG0001")}if(t instanceof gt)throw"Casting from 'xs:hexBinary' to 'xs:base64Binary' not implemented";throw new e("XPTY0004","Casting value '"+t+"' to xs:hexBinary can never succeed")},r("base64Binary",je),He.prototype=new Le,He.prototype.builtInKind=c.BOOLEAN_DT,He.prototype.primitiveKind=Ve.PRIMITIVE_BOOLEAN,He.prototype.value=null,He.prototype.valueOf=function(){return this.value},He.prototype.toString=function(){return Pn(this.value)};var ua=/^(0|1|true|false)$/;He.cast=function(t){if(t instanceof He)return t;if(t instanceof bt||t instanceof It){var n;if(n=_n(t).match(ua))return new He("1"==n[1]||"true"==n[1]);throw new e("FORG0001")}if(Ke(t))return new He(0!=t);throw new e("XPTY0004","Casting value '"+t+"' to xs:boolean can never succeed")},r("boolean",He),Qe.prototype=new Le,Qe.prototype.builtInKind=c.DATE_DT,Qe.prototype.primitiveKind=Ve.PRIMITIVE_DATE,Qe.prototype.year=null,Qe.prototype.month=null,Qe.prototype.day=null,Qe.prototype.timezone=null,Qe.prototype.negative=null,Qe.prototype.toString=function(){return nt(this)+tt(this)};var pa=/^(-?)([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;Qe.cast=function(t){if(t instanceof Qe)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(pa);if(n){var a=+n[2],i=+n[3],o=+n[4];if(o-1<Ze(a,i))return new Qe(a,i,o,n[5]?"Z"==n[5]?0:("-"==n[6]?-1:1)*(60*n[7]+1*n[8]):null,"-"==n[1]);throw new e("FORG0001","Invalid date '"+t+"' (Non-existent date)")}throw new e("FORG0001")}if(t instanceof We)return new Qe(t.year,t.month,t.day,t.timezone,t.negative);throw new e("XPTY0004","Casting value '"+t+"' to xs:date can never succeed")};var fa=[31,28,31,30,31,30,31,31,30,31,30,31];r("date",Qe),We.prototype=new Le,We.prototype.builtInKind=c.DATETIME_DT,We.prototype.primitiveKind=Ve.PRIMITIVE_DATETIME,We.prototype.year=null,We.prototype.month=null,We.prototype.day=null,We.prototype.hours=null,We.prototype.minutes=null,We.prototype.seconds=null,We.prototype.timezone=null,We.prototype.negative=null,We.prototype.toString=function(){return nt(this)+"T"+at(this)+tt(this)};var da=/^(-?)([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])T(([01]\d|2[0-3]):([0-5]\d):([0-5]\d)(?:\.(\d+))?|(24:00:00)(?:\.(0+))?)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;We.cast=function(t){if(t instanceof We)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(da);if(n){var a=+n[2],i=+n[3],o=+n[4],r=!!n[10];if(o-1<Ze(a,i))return it(new We(a,i,o,r?24:+n[6],r?0:+n[7],Dn((r?0:n[8])+"."+(r?0:n[9]||0)),n[12]?"Z"==n[12]?0:("-"==n[13]?-1:1)*(60*n[14]+1*n[15]):null,"-"==n[1]));throw new e("FORG0001","Invalid date '"+t+"' (Non-existent date)")}throw new e("FORG0001")}if(t instanceof Qe)return new We(t.year,t.month,t.day,0,0,0,t.timezone,t.negative);throw new e("XPTY0004","Casting value '"+t+"' to xs:dateTime can never succeed")},r("dateTime",We),ot.prototype=new Le,ot.prototype.builtInKind=c.DECIMAL_DT,ot.prototype.primitiveKind=Ve.PRIMITIVE_DECIMAL,ot.prototype.value=null,ot.prototype.valueOf=function(){return this.value},ot.prototype.toString=function(){return Pn(this.value)};var ha=/^[+\-]?((\d+(\.\d*)?)|(\.\d+))$/;ot.cast=function(t){if(t instanceof ot)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(ha);if(n)return new ot(+t);throw new e("FORG0001")}if(t instanceof He)return new ot(1*t);if(Ke(t)){if(Mn(t)||!Cn(t))throw new e("FOCA0002","Cannot convert '"+t+"' to xs:decimal");return new ot(+t)}throw new e("XPTY0004","Casting value '"+t+"' to xs:decimal can never succeed")},r("decimal",ot),rt.prototype=new Le,rt.prototype.builtInKind=c.DOUBLE_DT,rt.prototype.primitiveKind=Ve.PRIMITIVE_DOUBLE,rt.prototype.value=null,rt.prototype.valueOf=function(){return this.value},rt.prototype.toString=function(){return Pn(this.value)};var ma=/^([+\-]?((\d+(\.\d*)?)|(\.\d+))([eE][+\-]?\d+)?|(-?INF)|NaN)$/;rt.cast=function(t){if(t instanceof rt)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(ma);if(n)return new rt(n[7]?+n[7].replace("INF","Infinity"):+t);throw new e("FORG0001")}if(t instanceof He)return new rt(1*t);if(Ke(t))return new rt(t.value);throw new e("XPTY0004","Casting value '"+t+"' to xs:double can never succeed")},r("double",rt),st.prototype=new Le,st.prototype.builtInKind=c.DURATION_DT,st.prototype.primitiveKind=Ve.PRIMITIVE_DURATION,st.prototype.year=null,st.prototype.month=null,st.prototype.day=null,st.prototype.hours=null,st.prototype.minutes=null,st.prototype.seconds=null,st.prototype.negative=null,st.prototype.toString=function(){return(this.negative?"-":"")+"P"+(lt(this)+ct(this)||"T0S")};var va=/^(-)?P(?:([0-9]+)Y)?(?:([0-9]+)M)?(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:((?:(?:[0-9]+(?:.[0-9]*)?)|(?:.[0-9]+)))S)?)?$/;st.cast=function(t){if(t instanceof Nt)return new st(t.year,t.month,0,0,0,0,t.negative);if(t instanceof Dt)return new st(0,0,t.day,t.hours,t.minutes,t.seconds,t.negative);if(t instanceof st)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(va);if(n)return ut(new st(+n[2]||0,+n[3]||0,+n[4]||0,+n[5]||0,+n[6]||0,+n[7]||0,"-"==n[1]));throw new e("FORG0001")}throw new e("XPTY0004","Casting value '"+t+"' to xs:duration can never succeed")},r("duration",st),pt.prototype=new Le,pt.prototype.builtInKind=c.FLOAT_DT,pt.prototype.primitiveKind=Ve.PRIMITIVE_FLOAT,pt.prototype.value=null,pt.prototype.valueOf=function(){return this.value},pt.prototype.toString=function(){return Pn(this.value)};var ga=/^([+\-]?((\d+(\.\d*)?)|(\.\d+))([eE][+\-]?\d+)?|(-?INF)|NaN)$/;pt.cast=function(t){if(t instanceof pt)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(ga);if(n)return new pt(n[7]?+n[7].replace("INF","Infinity"):+t);throw new e("FORG0001")}if(t instanceof He)return new pt(1*t);if(Ke(t))return new pt(t.value);throw new e("XPTY0004","Casting value '"+t+"' to xs:float can never succeed")},r("float",pt),ft.prototype=new Le,ft.prototype.builtInKind=c.GDAY_DT,ft.prototype.primitiveKind=Ve.PRIMITIVE_GDAY,ft.prototype.day=null,ft.prototype.timezone=null,ft.prototype.toString=function(){return"---"+et(this.day)+tt(this)};var ya=/^---(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;ft.cast=function(t){if(t instanceof ft)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(ya);if(n){var a=+n[1];return new ft(a,n[2]?"Z"==n[2]?0:("-"==n[3]?-1:1)*(60*n[4]+1*n[5]):null)}throw new e("FORG0001")}if(t instanceof Qe||t instanceof We)return new ft(t.day,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:gDay can never succeed")},r("gDay",ft),dt.prototype=new Le,dt.prototype.builtInKind=c.GMONTH_DT,dt.prototype.primitiveKind=Ve.PRIMITIVE_GMONTH,dt.prototype.month=null,dt.prototype.timezone=null,dt.prototype.toString=function(){return"--"+et(this.month)+tt(this)};var wa=/^--(0[1-9]|1[0-2])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;dt.cast=function(t){if(t instanceof dt)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(wa);if(n){var a=+n[1];return new dt(a,n[2]?"Z"==n[2]?0:("-"==n[3]?-1:1)*(60*n[4]+1*n[5]):null)}throw new e("FORG0001")}if(t instanceof Qe||t instanceof We)return new dt(t.month,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:gMonth can never succeed")},r("gMonth",dt),ht.prototype=new Le,ht.prototype.builtInKind=c.GMONTHDAY_DT,ht.prototype.primitiveKind=Ve.PRIMITIVE_GMONTHDAY,ht.prototype.month=null,ht.prototype.day=null,ht.prototype.timezone=null,ht.prototype.toString=function(){return"--"+et(this.month)+"-"+et(this.day)+tt(this)};var ba=/^--(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;ht.cast=function(t){if(t instanceof ht)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(ba);if(n){var a=+n[1],i=+n[2];if(i-1<Ze(1976,a))return new ht(a,i,n[3]?"Z"==n[3]?0:("-"==n[4]?-1:1)*(60*n[5]+1*n[6]):null);throw new e("FORG0001","Invalid date '"+t+"' (Non-existent date)")}throw new e("FORG0001")}if(t instanceof Qe||t instanceof We)return new ht(t.month,t.day,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:gMonthDay can never succeed")},r("gMonthDay",ht),mt.prototype=new Le,mt.prototype.builtInKind=c.GYEAR_DT,mt.prototype.primitiveKind=Ve.PRIMITIVE_GYEAR,mt.prototype.year=null,mt.prototype.timezone=null,mt.prototype.toString=function(){return et(this.year)+tt(this)};var xa=/^-?([1-9]\d\d\d+|0\d\d\d)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;mt.cast=function(t){if(t instanceof mt)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(xa);if(n){var a=+n[1];return new mt(a,n[2]?"Z"==n[2]?0:("-"==n[3]?-1:1)*(60*n[4]+1*n[5]):null)}throw new e("FORG0001")}if(t instanceof Qe||t instanceof We)return new mt(t.year,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:gYear can never succeed")},r("gYear",mt),vt.prototype=new Le,vt.prototype.builtInKind=c.GYEARMONTH_DT,vt.prototype.primitiveKind=Ve.PRIMITIVE_GYEARMONTH,vt.prototype.year=null,vt.prototype.month=null,vt.prototype.timezone=null,vt.prototype.toString=function(){return et(this.year)+"-"+et(this.month)+tt(this)};var Ta=/^-?([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;vt.cast=function(t){if(t instanceof vt)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(Ta);if(n){var a=+n[1],i=+n[2];return new vt(a,i,n[3]?"Z"==n[3]?0:("-"==n[4]?-1:1)*(60*n[5]+1*n[6]):null)}throw new e("FORG0001")}if(t instanceof Qe||t instanceof We)return new vt(t.year,t.month,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:gYearMonth can never succeed")},r("gYearMonth",vt),gt.prototype=new Le,gt.prototype.builtInKind=c.HEXBINARY_DT,gt.prototype.primitiveKind=Ve.PRIMITIVE_HEXBINARY,gt.prototype.value=null,gt.prototype.valueOf=function(){return this.value},gt.prototype.toString=function(){return this.value};var Ia=/^([0-9a-fA-F]{2})*$/;gt.cast=function(t){if(t instanceof gt)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(Ia);if(n)return new gt(n[0].toUpperCase());throw new e("FORG0001")}if(t instanceof je)throw"Casting from 'xs:base64Binary' to 'xs:hexBinary' not implemented";throw new e("XPTY0004","Casting value '"+t+"' to xs:hexBinary can never succeed");
},r("hexBinary",gt),yt.prototype=new Le,yt.prototype.builtInKind=c.NOTATION_DT,yt.prototype.primitiveKind=Ve.PRIMITIVE_NOTATION,yt.cast=function(t){throw new e("XPST0017","Abstract type used in constructor function xs:NOTATION")},r("NOTATION",yt),wt.prototype=new Le,wt.prototype.builtInKind=c.QNAME_DT,wt.prototype.primitiveKind=Ve.PRIMITIVE_QNAME,wt.prototype.prefix=null,wt.prototype.localName=null,wt.prototype.namespaceURI=null,wt.prototype.toString=function(){return(this.prefix?this.prefix+":":"")+this.localName};var Na=/^(?:(?![0-9-])([\w-]+)\:)?(?![0-9-])([\w-]+)$/;wt.cast=function(t){if(t instanceof wt)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(Na);if(n)return new wt(n[1]||null,n[2],null);throw new e("FORG0001")}throw new e("XPTY0004","Casting value '"+t+"' to xs:QName can never succeed")},r("QName",wt),bt.prototype=new Le,bt.prototype.value=null,bt.prototype.builtInKind=c.STRING_DT,bt.prototype.primitiveKind=Ve.PRIMITIVE_STRING,bt.prototype.valueOf=function(){return this.value},bt.prototype.toString=function(){return this.value},bt.cast=function(e){return new bt(Pn(e))},r("string",bt),xt.prototype=new Le,xt.prototype.builtInKind=c.TIME_DT,xt.prototype.primitiveKind=Ve.PRIMITIVE_TIME,xt.prototype.hours=null,xt.prototype.minutes=null,xt.prototype.seconds=null,xt.prototype.timezone=null,xt.prototype.toString=function(){return at(this)+tt(this)};var Pa=/^(([01]\d|2[0-3]):([0-5]\d):([0-5]\d)(?:\.(\d+))?|(24:00:00)(?:\.(0+))?)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;xt.cast=function(t){if(t instanceof xt)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(Pa);if(n){var a=!!n[6];return new xt(a?0:+n[2],a?0:+n[3],Dn((a?0:n[4])+"."+(a?0:n[5]||0)),n[8]?"Z"==n[8]?0:("-"==n[9]?-1:1)*(60*n[10]+1*n[11]):null)}throw new e("FORG0001")}if(t instanceof We)return new xt(t.hours,t.minutes,t.seconds,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:time can never succeed")},r("time",xt),It.prototype=new Le,It.prototype.builtInKind=c.XT_UNTYPEDATOMIC_DT,It.prototype.toString=function(){return Pn(this.value)},It.cast=function(e){return e instanceof It?e:new It(Pn(e))},r("untypedAtomic",It),Nt.prototype=new st,Nt.prototype.builtInKind=c.XT_YEARMONTHDURATION_DT,Nt.prototype.toString=function(){return(this.negative?"-":"")+"P"+(lt(this)||"0M")};var Da=/^(-)?P(?:([0-9]+)Y)?(?:([0-9]+)M)?$/;Nt.cast=function(t){if(t instanceof Nt)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(Da);if(n)return Pt(new Nt(+n[2]||0,+n[3]||0,"-"==n[1]));throw new e("FORG0001")}if(t instanceof Dt)return new Nt(0,0);if(t instanceof st)return new Nt(t.year,t.month,t.negative);throw new e("XPTY0004","Casting value '"+t+"' to xs:yearMonthDuration can never succeed")},r("yearMonthDuration",Nt),Dt.prototype=new st,Dt.prototype.builtInKind=c.DAYTIMEDURATION_DT,Dt.prototype.toString=function(){return(this.negative?"-":"")+"P"+(ct(this)||"T0S")};var Ea=/^(-)?P(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:((?:(?:[0-9]+(?:.[0-9]*)?)|(?:.[0-9]+)))S)?)?$/;Dt.cast=function(t){if(t instanceof Dt)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(Ea);if(n)return Et(new Dt(+n[2]||0,+n[3]||0,+n[4]||0,+n[5]||0,"-"==n[1]));throw new e("FORG0001")}if(t instanceof Nt)return new Dt(0,0,0,0);if(t instanceof st)return new Dt(t.day,t.hours,t.minutes,t.seconds,t.negative);throw new e("XPTY0004","Casting value '"+t+"' to xs:dayTimeDuration can never succeed")},r("dayTimeDuration",Dt),Ot.prototype=new ot,Ot.prototype.builtInKind=c.INTEGER_DT;var Oa=/^[-+]?[0-9]+$/;Ot.cast=function(t){if(t instanceof Ot)return t;if(t instanceof bt||t instanceof It){var n=_n(t).match(Oa);if(n)return new Ot(~~t);throw new e("FORG0001")}if(t instanceof He)return new Ot(1*t);if(Ke(t)){if(Mn(t)||!Cn(t))throw new e("FOCA0002","Cannot convert '"+t+"' to xs:integer");return new Ot(~~t)}throw new e("XPTY0004","Casting value '"+t+"' to xs:integer can never succeed")},r("integer",Ot),Rt.prototype=new Ot,Rt.prototype.builtInKind=c.NONPOSITIVEINTEGER_DT,Rt.cast=function(e){return new Rt(Dn(e))},r("nonPositiveInteger",Rt),At.prototype=new Rt,At.prototype.builtInKind=c.NEGATIVEINTEGER_DT,At.cast=function(e){return new At(Dn(e))},r("negativeInteger",At),St.prototype=new Ot,St.prototype.builtInKind=c.LONG_DT,St.cast=function(e){return new St(Dn(e))},r("long",St),kt.prototype=new St,kt.prototype.builtInKind=c.INT_DT,kt.cast=function(e){return new kt(Dn(e))},r("int",kt),Mt.prototype=new kt,Mt.prototype.builtInKind=c.SHORT_DT,Mt.cast=function(e){return new Mt(Dn(e))},r("short",Mt),Ct.prototype=new Mt,Ct.prototype.builtInKind=c.BYTE_DT,Ct.cast=function(e){return new Ct(Dn(e))},r("byte",Ct),Ut.prototype=new Ot,Ut.prototype.builtInKind=c.NONNEGATIVEINTEGER_DT,Ut.cast=function(e){return new Ut(Dn(e))},r("nonNegativeInteger",Ut),Xt.prototype=new Ut,Xt.prototype.builtInKind=c.POSITIVEINTEGER_DT,Xt.cast=function(e){return new Xt(Dn(e))},r("positiveInteger",Xt),_t.prototype=new Ut,_t.prototype.builtInKind=c.UNSIGNEDLONG_DT,_t.cast=function(e){return new _t(Dn(e))},r("unsignedLong",_t),Yt.prototype=new Ut,Yt.prototype.builtInKind=c.UNSIGNEDINT_DT,Yt.cast=function(e){return new Yt(Dn(e))},r("unsignedInt",Yt),$t.prototype=new Yt,$t.prototype.builtInKind=c.UNSIGNEDSHORT_DT,$t.cast=function(e){return new $t(Dn(e))},r("unsignedShort",$t),Ft.prototype=new $t,Ft.prototype.builtInKind=c.UNSIGNEDBYTE_DT,Ft.cast=function(e){return new Ft(Dn(e))},r("unsignedByte",Ft),zt.prototype=new bt,zt.prototype.builtInKind=c.NORMALIZEDSTRING_DT,zt.cast=function(e){return new zt(Pn(e))},r("normalizedString",zt),qt.prototype=new zt,qt.prototype.builtInKind=c.TOKEN_DT,qt.cast=function(e){return new qt(Pn(e))},r("token",qt),Gt.prototype=new qt,Gt.prototype.builtInKind=c.NAME_DT,Gt.cast=function(e){return new Gt(Pn(e))},r("Name",Gt),Vt.prototype=new Gt,Vt.prototype.builtInKind=c.NCNAME_DT,Vt.cast=function(e){return new Vt(Pn(e))},r("NCName",Vt),Lt.prototype=new Vt,Lt.prototype.builtInKind=c.ENTITY_DT,Lt.cast=function(e){return new Lt(Pn(e))},r("ENTITY",Lt),Kt.prototype=new Vt,Kt.prototype.builtInKind=c.ID_DT,Kt.cast=function(e){return new Kt(Pn(e))},r("ID",Kt),Bt.prototype=new qt,Bt.prototype.builtInKind=c.LANGUAGE_DT,Bt.cast=function(e){return new Bt(Pn(e))},r("language",Bt),jt.prototype=new qt,jt.prototype.builtInKind=c.NMTOKEN_DT,jt.cast=function(e){return new jt(Pn(e))},r("NMTOKEN",jt),Qt.prototype=new Ht,Zt.prototype=new Qt,Jt.prototype=new Qt,Wt.prototype=new Qt,en.prototype=new Qt,tn.prototype=new Qt,nn.prototype=new Qt,jn["hexBinary-equal"]=function(e,t){return new He(e.valueOf()==t.valueOf())},jn["base64Binary-equal"]=function(e,t){return new He(e.valueOf()==t.valueOf())},jn["boolean-equal"]=function(e,t){return new He(e.valueOf()==t.valueOf())},jn["boolean-less-than"]=function(e,t){return new He(e.valueOf()<t.valueOf())},jn["boolean-greater-than"]=function(e,t){return new He(e.valueOf()>t.valueOf())},jn["yearMonthDuration-less-than"]=function(e,t){return new He(pn(e)<pn(t))},jn["yearMonthDuration-greater-than"]=function(e,t){return new He(pn(e)>pn(t))},jn["dayTimeDuration-less-than"]=function(e,t){return new He(cn(e)<cn(t))},jn["dayTimeDuration-greater-than"]=function(e,t){return new He(cn(e)>cn(t))},jn["duration-equal"]=function(e,t){return new He(e.negative==t.negative&&pn(e)==pn(t)&&cn(e)==cn(t))},jn["dateTime-equal"]=function(e,t){return rn(e,t,"eq")},jn["dateTime-less-than"]=function(e,t){return rn(e,t,"lt")},jn["dateTime-greater-than"]=function(e,t){return rn(e,t,"gt")},jn["date-equal"]=function(e,t){return on(e,t,"eq")},jn["date-less-than"]=function(e,t){return on(e,t,"lt")},jn["date-greater-than"]=function(e,t){return on(e,t,"gt")},jn["time-equal"]=function(e,t){return an(e,t,"eq")},jn["time-less-than"]=function(e,t){return an(e,t,"lt")},jn["time-greater-than"]=function(e,t){return an(e,t,"gt")},jn["gYearMonth-equal"]=function(e,t){return rn(new We(e.year,e.month,Ze(e.year,e.month),0,0,0,null==e.timezone?this.timezone:e.timezone),new We(t.year,t.month,Ze(t.year,t.month),0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},jn["gYear-equal"]=function(e,t){return rn(new We(e.year,1,1,0,0,0,null==e.timezone?this.timezone:e.timezone),new We(t.year,1,1,0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},jn["gMonthDay-equal"]=function(e,t){return rn(new We(1972,e.month,e.day,0,0,0,null==e.timezone?this.timezone:e.timezone),new We(1972,t.month,t.day,0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},jn["gMonth-equal"]=function(e,t){return rn(new We(1972,e.month,Ze(1972,t.month),0,0,0,null==e.timezone?this.timezone:e.timezone),new We(1972,t.month,Ze(1972,t.month),0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},jn["gDay-equal"]=function(e,t){return rn(new We(1972,12,e.day,0,0,0,null==e.timezone?this.timezone:e.timezone),new We(1972,12,t.day,0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},jn["add-yearMonthDurations"]=function(e,t){return fn(pn(e)+pn(t))},jn["subtract-yearMonthDurations"]=function(e,t){return fn(pn(e)-pn(t))},jn["multiply-yearMonthDuration"]=function(e,t){return fn(pn(e)*t)},jn["divide-yearMonthDuration"]=function(e,t){return fn(pn(e)/t)},jn["divide-yearMonthDuration-by-yearMonthDuration"]=function(e,t){return new ot(pn(e)/pn(t))},jn["add-dayTimeDurations"]=function(e,t){return un(cn(e)+cn(t))},jn["subtract-dayTimeDurations"]=function(e,t){return un(cn(e)-cn(t))},jn["multiply-dayTimeDuration"]=function(e,t){return un(cn(e)*t)},jn["divide-dayTimeDuration"]=function(e,t){return un(cn(e)/t)},jn["divide-dayTimeDuration-by-dayTimeDuration"]=function(e,t){return new ot(cn(e)/cn(t))},jn["subtract-dateTimes"]=function(e,t){throw"Operator function 'subtract-dateTimes' not implemented"},jn["subtract-dates"]=function(e,t){throw"Operator function 'subtract-dates' not implemented"},jn["subtract-times"]=function(e,t){return un(dn(e)-dn(t))},jn["add-yearMonthDuration-to-dateTime"]=function(e,t){return sn(e,t,"+")},jn["add-dayTimeDuration-to-dateTime"]=function(e,t){return ln(e,t,"+")},jn["subtract-yearMonthDuration-from-dateTime"]=function(e,t){return sn(e,t,"-")},jn["subtract-dayTimeDuration-from-dateTime"]=function(e,t){return ln(e,t,"-")},jn["add-yearMonthDuration-to-date"]=function(e,t){return sn(e,t,"+")},jn["add-dayTimeDuration-to-date"]=function(e,t){return ln(e,t,"+")},jn["subtract-yearMonthDuration-from-date"]=function(e,t){return sn(e,t,"-")},jn["subtract-dayTimeDuration-from-date"]=function(e,t){return ln(e,t,"-")},jn["add-dayTimeDuration-to-time"]=function(e,t){var n=new xt(e.hours,e.minutes,e.seconds,e.timezone);return n.hours+=t.hours,n.minutes+=t.minutes,n.seconds+=t.seconds,Tt(n)},jn["subtract-dayTimeDuration-from-time"]=function(e,t){var n=new xt(e.hours,e.minutes,e.seconds,e.timezone);return n.hours-=t.hours,n.minutes-=t.minutes,n.seconds-=t.seconds,Tt(n)},jn["is-same-node"]=function(e,t){return new He(this.DOMAdapter.isSameNode(e,t))},jn["node-before"]=function(e,t){return new He(!!(4&this.DOMAdapter.compareDocumentPosition(e,t)))},jn["node-after"]=function(e,t){return new He(!!(2&this.DOMAdapter.compareDocumentPosition(e,t)))},jn["numeric-add"]=function(e,t){var n=e.valueOf(),a=t.valueOf(),i=Sn.pow(10,hn(n,a));return mn(e,t,(n*i+a*i)/i)},jn["numeric-subtract"]=function(e,t){var n=e.valueOf(),a=t.valueOf(),i=Sn.pow(10,hn(n,a));return mn(e,t,(n*i-a*i)/i)},jn["numeric-multiply"]=function(e,t){var n=e.valueOf(),a=t.valueOf(),i=Sn.pow(10,hn(n,a));return mn(e,t,n*i*(a*i)/(i*i))},jn["numeric-divide"]=function(e,t){var n=e.valueOf(),a=t.valueOf(),i=Sn.pow(10,hn(n,a));return mn(e,t,e*i/(t*i))},jn["numeric-integer-divide"]=function(e,t){return new Ot(~~(e/t))},jn["numeric-mod"]=function(e,t){var n=e.valueOf(),a=t.valueOf(),i=Sn.pow(10,hn(n,a));return mn(e,t,n*i%(a*i)/i)},jn["numeric-unary-plus"]=function(e){return e},jn["numeric-unary-minus"]=function(e){return e.value*=-1,e},jn["numeric-equal"]=function(e,t){return new He(e.valueOf()==t.valueOf())},jn["numeric-less-than"]=function(e,t){return new He(e.valueOf()<t.valueOf())},jn["numeric-greater-than"]=function(e,t){return new He(e.valueOf()>t.valueOf())},jn["QName-equal"]=function(e,t){return new He(e.localName==t.localName&&e.namespaceURI==t.namespaceURI)},jn.concatenate=function(e,t){return e.concat(t)},jn.union=function(t,n){for(var a,i=[],o=0,r=t.length;o<r;o++){if(!this.DOMAdapter.isNode(a=t[o]))throw new e("XPTY0004","Required item type of first operand of 'union' is node()");Yn(i,a)==-1&&i.push(a)}for(var a,o=0,r=n.length;o<r;o++){if(!this.DOMAdapter.isNode(a=n[o]))throw new e("XPTY0004","Required item type of second operand of 'union' is node()");Yn(i,a)==-1&&i.push(a)}return xn(i,this)},jn.intersect=function(t,n){for(var a,i,o=[],r=0,s=t.length;r<s;r++){if(!this.DOMAdapter.isNode(a=t[r]))throw new e("XPTY0004","Required item type of second operand of 'intersect' is node()");i=!1;for(var l=0,c=n.length;l<c&&!i;l++){if(!this.DOMAdapter.isNode(n[l]))throw new e("XPTY0004","Required item type of first operand of 'intersect' is node()");i=this.DOMAdapter.isSameNode(n[l],a)}i&&Yn(o,a)==-1&&o.push(a)}return xn(o,this)},jn.except=function(t,n){for(var a,i,o=[],r=0,s=t.length;r<s;r++){if(!this.DOMAdapter.isNode(a=t[r]))throw new e("XPTY0004","Required item type of second operand of 'except' is node()");i=!1;for(var l=0,c=n.length;l<c&&!i;l++){if(!this.DOMAdapter.isNode(n[l]))throw new e("XPTY0004","Required item type of first operand of 'except' is node()");i=this.DOMAdapter.isSameNode(n[l],a)}i||Yn(o,a)!=-1||o.push(a)}return xn(o,this)},jn.to=function(e,t){for(var n=[],a=e.valueOf(),i=t.valueOf();a<=i;a++)n.push(new Ot(a));return n},o("node-name",[[Qt,"?"]],function(e){if(null!=e){var t=this.DOMAdapter.getProperty;switch(t(e,"nodeType")){case 1:case 2:return new wt(t(e,"prefix"),t(e,"localName"),t(e,"namespaceURI"));case 5:throw"Not implemented";case 6:throw"Not implemented";case 7:return new wt(null,t(e,"target"),null);case 10:return new wt(null,t(e,"name"),null)}}return null}),o("nilled",[[Qt,"?"]],function(e){return null!=e&&1==this.DOMAdapter.getProperty(e,"nodeType")?new He(!1):null}),o("string",[[Ht,"?",!0]],function(t){if(!arguments.length){if(!this.item)throw new e("XPDY0002");t=this.item}return null==t?new bt(""):bt.cast(bn([t],this)[0])}),o("data",[[Ht,"*"]],function(e){return bn(e,this)}),o("base-uri",[[Qt,"?",!0]],function(t){if(!arguments.length){if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","base-uri() function called when the context item is not a node");t=this.item}return Be.cast(new bt(this.DOMAdapter.getProperty(t,"baseURI")||""))}),o("document-uri",[[Qt,"?"]],function(e){if(null!=e){var t=this.DOMAdapter.getProperty;if(9==t(e,"nodeType"))return Be.cast(new bt(t(e,"documentURI")||""))}return null}),o("resolve-uri",[[bt,"?"],[bt,"",!0]],function(t,n){var n;if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","resolve-uri() function called when the context item is not a node");n=new bt(this.DOMAdapter.getProperty(this.item,"baseURI")||"")}if(null==t)return null;if(""==t.valueOf()||"#"==t.valueOf().charAt(0))return Be.cast(n);var a=Be.cast(t);if(a.scheme)return a;var i=Be.cast(n);if(a.scheme=i.scheme,!a.authority&&(a.authority=i.authority,"/"!=a.path.charAt(0))){var o=a.path.split("/"),r=i.path.split("/");r.pop();for(var s=""==r[0]?1:0,l=0,c=o.length;l<c;l++)".."==o[l]?r.length>s?r.pop():(r.push(o[l]),s++):"."!=o[l]&&r.push(o[l]);".."!=o[--l]&&"."!=o[l]||r.push(""),a.path=r.join("/")}return a}),o("true",[],function(){return new He(!0)}),o("false",[],function(){return new He(!1)}),o("not",[[Ht,"*"]],function(e){return new He(!wn(e,this))}),o("position",[],function(){return new Ot(this.position)}),o("last",[],function(){return new Ot(this.size)}),o("current-dateTime",[],function(){return this.dateTime}),o("current-date",[],function(){return Qe.cast(this.dateTime)}),o("current-time",[],function(){return xt.cast(this.dateTime)}),o("implicit-timezone",[],function(){return this.timezone}),o("default-collation",[],function(){return new bt(this.staticContext.defaultCollationName)}),o("static-base-uri",[],function(){return Be.cast(new bt(this.staticContext.baseURI||""))}),o("years-from-duration",[[st,"?"]],function(e){return vn(e,"year")}),o("months-from-duration",[[st,"?"]],function(e){return vn(e,"month")}),o("days-from-duration",[[st,"?"]],function(e){return vn(e,"day")}),o("hours-from-duration",[[st,"?"]],function(e){return vn(e,"hours")}),o("minutes-from-duration",[[st,"?"]],function(e){return vn(e,"minutes")}),o("seconds-from-duration",[[st,"?"]],function(e){return vn(e,"seconds")}),o("year-from-dateTime",[[We,"?"]],function(e){return gn(e,"year")}),o("month-from-dateTime",[[We,"?"]],function(e){return gn(e,"month")}),o("day-from-dateTime",[[We,"?"]],function(e){return gn(e,"day")}),o("hours-from-dateTime",[[We,"?"]],function(e){return gn(e,"hours")}),o("minutes-from-dateTime",[[We,"?"]],function(e){return gn(e,"minutes")}),o("seconds-from-dateTime",[[We,"?"]],function(e){return gn(e,"seconds")}),o("timezone-from-dateTime",[[We,"?"]],function(e){return gn(e,"timezone")}),o("year-from-date",[[Qe,"?"]],function(e){return gn(e,"year")}),o("month-from-date",[[Qe,"?"]],function(e){return gn(e,"month")}),o("day-from-date",[[Qe,"?"]],function(e){return gn(e,"day")}),o("timezone-from-date",[[Qe,"?"]],function(e){return gn(e,"timezone")}),o("hours-from-time",[[xt,"?"]],function(e){return gn(e,"hours")}),o("minutes-from-time",[[xt,"?"]],function(e){return gn(e,"minutes")}),o("seconds-from-time",[[xt,"?"]],function(e){return gn(e,"seconds")}),o("timezone-from-time",[[xt,"?"]],function(e){return gn(e,"timezone")}),o("adjust-dateTime-to-timezone",[[We,"?"],[Dt,"?",!0]],function(e,t){return yn(e,arguments.length>1&&null!=t?arguments.length>1?t:this.timezone:null)}),o("adjust-date-to-timezone",[[Qe,"?"],[Dt,"?",!0]],function(e,t){return yn(e,arguments.length>1&&null!=t?arguments.length>1?t:this.timezone:null)}),o("adjust-time-to-timezone",[[xt,"?"],[Dt,"?",!0]],function(e,t){return yn(e,arguments.length>1&&null!=t?arguments.length>1?t:this.timezone:null)}),o("name",[[Qt,"?",!0]],function(t){if(arguments.length){if(null==t)return new bt("")}else{if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","name() function called when the context item is not a node");t=this.item}var n=Ln["node-name"].call(this,t);return new bt(null==n?"":n.toString())}),o("local-name",[[Qt,"?",!0]],function(t){if(arguments.length){if(null==t)return new bt("")}else{if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","local-name() function called when the context item is not a node");t=this.item}return new bt(this.DOMAdapter.getProperty(t,"localName")||"")});o("namespace-uri",[[Qt,"?",!0]],function(t){if(arguments.length){if(null==t)return Be.cast(new bt(""))}else{if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","namespace-uri() function called when the context item is not a node");t=this.item}return Be.cast(new bt(this.DOMAdapter.getProperty(t,"namespaceURI")||""))});o("number",[[Le,"?",!0]],function(t){if(!arguments.length){if(!this.item)throw new e("XPDY0002");t=bn([this.item],this)[0]}var n=new rt(Un);if(null!=t)try{n=rt.cast(t)}catch(e){}return n}),o("lang",[[bt,"?"],[Qt,"",!0]],function(t,n){if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","lang() function called when the context item is not a node");n=this.item}var a=this.DOMAdapter.getProperty;2==a(n,"nodeType")&&(n=a(n,"ownerElement"));for(var i;n;n=a(n,"parentNode"))if(i=a(n,"attributes"))for(var o=0,r=i.length;o<r;o++)if("xml:lang"==a(i[o],"nodeName"))return new He(a(i[o],"value").replace(/-.+/,"").toLowerCase()==t.valueOf().replace(/-.+/,"").toLowerCase());return new He(!1)}),o("root",[[Qt,"?",!0]],function(t){if(arguments.length){if(null==t)return null}else{if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","root() function called when the context item is not a node");t=this.item}var n=this.DOMAdapter.getProperty;2==n(t,"nodeType")&&(t=n(t,"ownerElement"));for(var a=t;a;a=n(t,"parentNode"))t=a;return t}),o("abs",[[rt,"?"]],function(e){return new ot(Sn.abs(e))}),o("ceiling",[[rt,"?"]],function(e){return new ot(Sn.ceil(e))}),o("floor",[[rt,"?"]],function(e){return new ot(Sn.floor(e))}),o("round",[[rt,"?"]],function(e){return new ot(Sn.round(e))}),o("round-half-to-even",[[rt,"?"],[Ot,"",!0]],function(e,t){var n=arguments.length>1?t.valueOf():0;if(n<0){var a=new Ot(Sn.pow(10,-n)),i=Sn.round(jn["numeric-divide"].call(this,e,a)),o=new Ot(i);return nDecimal=Sn.abs(jn["numeric-subtract"].call(this,o,jn["numeric-divide"].call(this,e,a))),jn["numeric-multiply"].call(this,jn["numeric-add"].call(this,o,new ot(.5==nDecimal&&i%2?-1:0)),a)}var a=new Ot(Sn.pow(10,n)),i=Sn.round(jn["numeric-multiply"].call(this,e,a)),o=new Ot(i);return nDecimal=Sn.abs(jn["numeric-subtract"].call(this,o,jn["numeric-multiply"].call(this,e,a))),jn["numeric-divide"].call(this,jn["numeric-add"].call(this,o,new ot(.5==nDecimal&&i%2?-1:0)),a)}),o("resolve-QName",[[bt,"?"],[en]],function(t,n){if(null==t)return null;var a=t.valueOf(),i=a.match(Na);if(!i)throw new e("FOCA0002","Invalid QName '"+a+"'");var o=i[1]||null,r=i[2],s=this.DOMAdapter.lookupNamespaceURI(n,o);if(null!=o&&!s)throw new e("FONS0004","Namespace prefix '"+o+"' has not been declared");return new wt(o,r,s||null)}),o("QName",[[bt,"?"],[bt]],function(t,n){var a=n.valueOf(),i=a.match(Na);if(!i)throw new e("FOCA0002","Invalid QName '"+a+"'");return new wt(i[1]||null,i[2]||null,null==t?"":t.valueOf())}),o("prefix-from-QName",[[wt,"?"]],function(e){return null!=e&&e.prefix?new Vt(e.prefix):null}),o("local-name-from-QName",[[wt,"?"]],function(e){return null==e?null:new Vt(e.localName)}),o("namespace-uri-from-QName",[[wt,"?"]],function(e){return null==e?null:Be.cast(new bt(e.namespaceURI||""))}),o("namespace-uri-for-prefix",[[bt,"?"],[en]],function(e,t){var n=null==e?"":e.valueOf(),a=this.DOMAdapter.lookupNamespaceURI(t,n||null);return null==a?null:Be.cast(new bt(a))}),o("in-scope-prefixes",[[en]],function(e){throw"Function 'in-scope-prefixes' not implemented"}),o("boolean",[[Ht,"*"]],function(e){return new He(wn(e,this))}),o("index-of",[[Le,"*"],[Le],[bt,"",!0]],function(e,t,n){if(!e.length||null==t)return[];var a=t;a instanceof It&&(a=bt.cast(a));for(var i,o=[],r=0,s=e.length;r<s;r++)i=e[r],i instanceof It&&(i=bt.cast(i)),i.valueOf()===a.valueOf()&&o.push(new Ot(r+1));return o}),o("empty",[[Ht,"*"]],function(e){return new He(!e.length)}),o("exists",[[Ht,"*"]],function(e){return new He(!!e.length)}),o("distinct-values",[[Le,"*"],[bt,"",!0]],function(e,t){if(!e.length)return null;for(var n,a=[],i=0,o=e.length;i<o;i++){n=e[i],n instanceof It&&(n=bt.cast(n));for(var r,s=0,l=a.length,c=!1;s<l&&!c;s++)r=a[s],r instanceof It&&(r=bt.cast(r)),r.valueOf()===n.valueOf()&&(c=!0);c||a.push(e[i])}return a}),o("insert-before",[[Ht,"*"],[Ot],[Ht,"*"]],function(e,t,n){if(!e.length)return n;if(!n.length)return e;var a=e.length,i=t.valueOf();i<1?i=1:i>a&&(i=a+1);for(var o=[],r=0;r<a;r++)i==r+1&&(o=o.concat(n)),o.push(e[r]);return i==r+1&&(o=o.concat(n)),o}),o("remove",[[Ht,"*"],[Ot]],function(e,t){if(!e.length)return[];var n=e.length,a=t.valueOf();if(a<1||a>n)return e;for(var i=[],o=0;o<n;o++)a!=o+1&&i.push(e[o]);return i}),o("reverse",[[Ht,"*"]],function(e){return e.reverse(),e}),o("subsequence",[[Ht,"*"],[rt,""],[rt,"",!0]],function(e,t,n){var a=Sn.round(t),i=arguments.length>2?Sn.round(n):e.length-a+1;return e.slice(a-1,a-1+i)}),o("unordered",[[Ht,"*"]],function(e){return e}),o("zero-or-one",[[Ht,"*"]],function(t){if(t.length>1)throw new e("FORG0003");return t}),o("one-or-more",[[Ht,"*"]],function(t){if(!t.length)throw new e("FORG0004");return t}),o("exactly-one",[[Ht,"*"]],function(t){if(1!=t.length)throw new e("FORG0005");return t}),o("deep-equal",[[Ht,"*"],[Ht,"*"],[bt,"",!0]],function(e,t,n){throw"Function 'deep-equal' not implemented"}),o("count",[[Ht,"*"]],function(e){return new Ot(e.length)}),o("avg",[[Le,"*"]],function(t){if(!t.length)return null;try{var n=t[0];n instanceof It&&(n=rt.cast(n));for(var a,i=1,o=t.length;i<o;i++)a=t[i],a instanceof It&&(a=rt.cast(a)),n=Wn["+"](n,a,this);return ea.div(n,new Ot(o),this)}catch(t){throw"XPTY0004"!=t.code?t:new e("FORG0006","Input to avg() contains a mix of types")}}),o("max",[[Le,"*"],[bt,"",!0]],function(t,n){if(!t.length)return null;try{for(var a=t[0],i=1,o=t.length;i<o;i++)Qn.ge(t[i],a,this).valueOf()&&(a=t[i]);return a}catch(t){throw"XPTY0004"!=t.code?t:new e("FORG0006","Input to max() contains a mix of not comparable values")}}),o("min",[[Le,"*"],[bt,"",!0]],function(t,n){if(!t.length)return null;try{for(var a=t[0],i=1,o=t.length;i<o;i++)Qn.le(t[i],a,this).valueOf()&&(a=t[i]);return a}catch(t){throw"XPTY0004"!=t.code?t:new e("FORG0006","Input to min() contains a mix of not comparable values")}}),o("sum",[[Le,"*"],[Le,"?",!0]],function(t,n){if(!t.length)return arguments.length>1?n:new rt(0);try{var a=t[0];a instanceof It&&(a=rt.cast(a));for(var i,o=1,r=t.length;o<r;o++)i=t[o],i instanceof It&&(i=rt.cast(i)),a=Wn["+"](a,i,this);return a}catch(t){throw"XPTY0004"!=t.code?t:new e("FORG0006","Input to sum() contains a mix of types")}}),o("id",[[bt,"*"],[Qt,"",!0]],function(t,n){if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","id() function called when the context item is not a node");n=this.item}var a=Ln.root.call(this,n);if(9!=this.DOMAdapter.getProperty(a,"nodeType"))throw new e("FODC0001");for(var i=[],o=0;o<t.length;o++)for(var r=0,s=_n(t[o]).split(/\s+/),l=s.length;r<l;r++)(n=this.DOMAdapter.getElementById(a,s[r]))&&Yn(i,n)==-1&&i.push(n);return xn(i,this)}),o("idref",[[bt,"*"],[Qt,"",!0]],function(e,t){throw"Function 'idref' not implemented"}),o("doc",[[bt,"?",!0]],function(e){throw"Function 'doc' not implemented"}),o("doc-available",[[bt,"?",!0]],function(e){throw"Function 'doc-available' not implemented"}),o("collection",[[bt,"?",!0]],function(e){throw"Function 'collection' not implemented"}),o("element-with-id",[[bt,"*"],[Qt,"",!0]],function(e,t){throw"Function 'element-with-id' not implemented"}),o("codepoints-to-string",[[Ot,"*"]],function(e){for(var t=[],n=0,a=e.length;n<a;n++)t.push(Pn.fromCharCode(e[n]));return new bt(t.join(""))}),o("string-to-codepoints",[[bt,"?"]],function(e){if(null==e)return null;var t=e.valueOf();if(""==t)return[];for(var n=[],a=0,i=t.length;a<i;a++)n.push(new Ot(t.charCodeAt(a)));return n}),o("compare",[[bt,"?"],[bt,"?"],[bt,"",!0]],function(t,n,a){if(null==t||null==n)return null;var i,o=this.staticContext.defaultCollationName;if(arguments.length>2&&(o=a.valueOf()),i=o==Fn+"/collation/codepoint"?Ra:this.staticContext.getCollation(o),!i)throw new e("FOCH0002","Unknown collation {"+o+"}");return new Ot(i.compare(t.valueOf(),n.valueOf()))}),o("codepoint-equal",[[bt,"?"],[bt,"?"]],function(e,t){return null==e||null==t?null:new He(e.valueOf()==t.valueOf())}),o("concat",null,function(){if(arguments.length<2)throw new e("XPST0017","Function concat() must have at least 2 arguments");for(var t,n=[],a=0,i=arguments.length;a<i;a++)t=arguments[a],be(this,t,"?","each argument of concat()"),t.length&&(n[n.length]=bt.cast(bn(t,this)[0]).valueOf());return new bt(n.join(""))}),o("string-join",[[bt,"*"],[bt]],function(e,t){return new bt(e.join(t))}),o("substring",[[bt,"?"],[rt],[rt,"",!0]],function(e,t,n){var a=null==e?"":e.valueOf(),i=Sn.round(t)-1,o=arguments.length>2?i+Sn.round(n):a.length;return new bt(o>i?a.substring(i,o):"")}),o("string-length",[[bt,"?",!0]],function(t){if(!arguments.length){if(!this.item)throw new e("XPDY0002");t=bt.cast(bn([this.item],this)[0])}return new Ot(null==t?0:t.valueOf().length)}),o("normalize-space",[[bt,"?",!0]],function(t){if(!arguments.length){if(!this.item)throw new e("XPDY0002");t=bt.cast(bn([this.item],this)[0])}return new bt(null==t?"":_n(t).replace(/\s\s+/g," "))}),o("normalize-unicode",[[bt,"?"],[bt,"",!0]],function(e,t){throw"Function 'normalize-unicode' not implemented"}),o("upper-case",[[bt,"?"]],function(e){return new bt(null==e?"":e.valueOf().toUpperCase())}),o("lower-case",[[bt,"?"]],function(e){return new bt(null==e?"":e.valueOf().toLowerCase())}),o("translate",[[bt,"?"],[bt],[bt]],function(e,t,n){if(null==e)return new bt("");for(var a,i=e.valueOf().split(""),o=t.valueOf().split(""),r=n.valueOf().split(""),s=r.length,l=[],c=0,u=i.length;c<u;c++)(a=o.indexOf(i[c]))==-1?l[l.length]=i[c]:a<s&&(l[l.length]=r[a]);return new bt(l.join(""))}),o("encode-for-uri",[[bt,"?"]],function(e){return new bt(null==e?"":window.encodeURIComponent(e))}),o("iri-to-uri",[[bt,"?"]],function(e){return new bt(null==e?"":window.encodeURI(window.decodeURI(e)))}),o("escape-html-uri",[[bt,"?"]],function(e){if(null==e||""==e.valueOf())return new bt("");for(var t,n=e.valueOf().split(""),a=0,i=n.length;a<i;a++)((t=n[a].charCodeAt(0))<32||t>126)&&(n[a]=window.encodeURIComponent(n[a]));return new bt(n.join(""))}),o("contains",[[bt,"?"],[bt,"?"],[bt,"",!0]],function(e,t,n){return new He((null==e?"":e.valueOf()).indexOf(null==t?"":t.valueOf())>=0)}),o("starts-with",[[bt,"?"],[bt,"?"],[bt,"",!0]],function(e,t,n){return new He(0==(null==e?"":e.valueOf()).indexOf(null==t?"":t.valueOf()))}),o("ends-with",[[bt,"?"],[bt,"?"],[bt,"",!0]],function(e,t,n){var a=null==e?"":e.valueOf(),i=null==t?"":t.valueOf();return new He(a.indexOf(i)==a.length-i.length)}),o("substring-before",[[bt,"?"],[bt,"?"],[bt,"",!0]],function(e,t,n){var a,i=null==e?"":e.valueOf(),o=null==t?"":t.valueOf();return new bt((a=i.indexOf(o))>=0?i.substring(0,a):"")}),o("substring-after",[[bt,"?"],[bt,"?"],[bt,"",!0]],function(e,t,n){var a,i=null==e?"":e.valueOf(),o=null==t?"":t.valueOf();return new bt((a=i.indexOf(o))>=0?i.substring(a+o.length):"")}),o("matches",[[bt,"?"],[bt],[bt,"",!0]],function(e,t,n){var a=null==e?"":e.valueOf(),i=Tn(t.valueOf(),arguments.length>2?n.valueOf():"");return new He(i.test(a))}),o("replace",[[bt,"?"],[bt],[bt],[bt,"",!0]],function(e,t,n,a){var i=null==e?"":e.valueOf(),o=Tn(t.valueOf(),arguments.length>3?a.valueOf():"");return new He(i.replace(o,n.valueOf()))}),o("tokenize",[[bt,"?"],[bt],[bt,"",!0]],function(e,t,n){for(var a=null==e?"":e.valueOf(),i=Tn(t.valueOf(),arguments.length>2?n.valueOf():""),o=[],r=0,s=a.split(i),l=s.length;r<l;r++)o.push(new bt(s[r]));return o}),o("trace",[[Ht,"*"],[bt]],function(e,t){var n=window.console;return n&&n.log&&n.log(t.valueOf(),e),e});var Ra=new l;Ra.equals=function(e,t){return e==t},Ra.compare=function(e,t){return e==t?0:e>t?1:-1};var Aa=function(){};Aa.prototype.nodeType=2,Aa.prototype.nodeName=Aa.prototype.nodeValue=Aa.prototype.ownerDocument=Aa.prototype.localName=Aa.prototype.namespaceURI=Aa.prototype.prefix=Aa.prototype.attributes=Aa.prototype.childNodes=Aa.prototype.firstChild=Aa.prototype.lastChild=Aa.prototype.previousSibling=Aa.prototype.nextSibling=Aa.prototype.parentNode=Aa.prototype.name=Aa.prototype.specified=Aa.prototype.value=Aa.prototype.ownerElement=null,In.prototype=new n;var Sa=new i;In.prototype.getProperty=function(e,t){if(t in e)return e[t];if("baseURI"==t){for(var n,a="",i=Sa.getFunction("{http://www.w3.org/2005/xpath-functions}resolve-uri"),o=Sa.getDataType("{http://www.w3.org/2001/XMLSchema}string"),r=e;r;r=r.parentNode)1==r.nodeType&&(n=r.getAttribute("xml:base"))&&(a=i(new o(n),new o(a)).toString());return a}if("textContent"==t){var s=[];return function(e){for(var t,n=0;t=e.childNodes[n];n++)3==t.nodeType||4==t.nodeType?s.push(t.data):1==t.nodeType&&t.firstChild&&arguments.callee(t)}(e),s.join("")}},In.prototype.compareDocumentPosition=function(e,t){if("compareDocumentPosition"in e)return e.compareDocumentPosition(t);if(t==e)return 0;var n,a,i,o,r,s=null,l=null;if(2==e.nodeType&&(s=e,e=this.getProperty(s,"ownerElement")),2==t.nodeType&&(l=t,t=this.getProperty(l,"ownerElement")),s&&l&&e&&e==t)for(o=0,n=this.getProperty(e,"attributes"),r=n.length;o<r;o++){if(a=n[o],a==s)return 36;if(a==l)return 34}var c,u,p,f,d=[],h=[];for(s&&d.push(s),i=e;i;i=i.parentNode)d.push(i);for(l&&h.push(l),i=t;i;i=i.parentNode)h.push(i);if((e.ownerDocument||e)!=(t.ownerDocument||t)||d[d.length-1]!=h[h.length-1])return 33;for(o=Sn.min(c=d.length,p=h.length);o;--o)if((u=d[--c])!=(f=h[--p])){
if(2==u.nodeType)return 4;if(2==f.nodeType)return 2;if(!f.nextSibling)return 4;if(!u.nextSibling)return 2;for(i=f.previousSibling;i;i=i.previousSibling)if(i==u)return 4;return 2}return c<p?20:10},In.prototype.lookupNamespaceURI=function(e,t){if("lookupNamespaceURI"in e)return e.lookupNamespaceURI(t);for(;e&&9!=e.nodeType;e=e.parentNode){if(t==this.getProperty(oChild,"prefix"))return this.getProperty(e,"namespaceURI");if(1==e.nodeType)for(var n=this.getProperty(e,"attributes"),a=0,i=n.length,o="xmlns:"+t;a<i;a++)if(this.getProperty(n[a],"nodeName")==o)return this.getProperty(n[a],"value")}return null},In.prototype.getElementsByTagNameNS=function(e,t,n){if("getElementsByTagNameNS"in e)return e.getElementsByTagNameNS(t,n);var a=[],i="*"==t,o="*"==n;return function(e){for(var r,s=0;r=e.childNodes[s];s++)1==r.nodeType&&(!o&&n!=this.getProperty(r,"localName")||!i&&t!=this.getProperty(r,"namespaceURI")||(a[a.length]=r),r.firstChild&&arguments.callee(r))}(e),a};var ka=new In,Ma=new In;Ma.getProperty=function(e,t){return"localName"==t&&1==e.nodeType?e.localName.toLowerCase():"namespaceURI"==t?1==e.nodeType?"http://www.w3.org/1999/xhtml":null:In.prototype.getProperty.call(this,e,t)};var Ca=new In;Ca.getProperty=function(e,t){if("localName"==t&&1==e.nodeType)return e.nodeName.toLowerCase();if("prefix"==t)return null;if("namespaceURI"==t)return 1==e.nodeType?"http://www.w3.org/1999/xhtml":null;if("textContent"==t)return e.innerText;if("attributes"==t&&1==e.nodeType){for(var n,a,i=[],o=0,r=e.attributes,s=r.length;o<s;o++)n=r[o],n.specified&&(a=new Aa,a.ownerElement=e,a.ownerDocument=e.ownerDocument,a.specified=!0,a.value=a.nodeValue=n.nodeValue,a.name=a.nodeName=a.localName=n.nodeName.toLowerCase(),i[i.length]=a);return i}return In.prototype.getProperty.call(this,e,t)};var Ua=new In;Ua.getProperty=function(e,t){if("localName"==t){if(7==e.nodeType)return null;if(1==e.nodeType)return e.baseName}if("prefix"==t||"namespaceURI"==t)return e[t]||null;if("textContent"==t)return e.text;if("attributes"==t&&1==e.nodeType){for(var n,a,i=[],o=0,r=e.attributes,s=r.length;o<s;o++)n=r[o],n.specified&&(a=new Aa,a.nodeType=2,a.ownerElement=e,a.ownerDocument=e.ownerDocument,a.specified=!0,a.value=a.nodeValue=n.nodeValue,a.name=a.nodeName=n.nodeName,a.localName=n.baseName,a.prefix=n.prefix||null,a.namespaceURI=n.namespaceURI||null,i[i.length]=a);return i}return In.prototype.getProperty.call(this,e,t)},Ua.getElementById=function(e,t){return e.nodeFromID(t)};var Xa=(window.HTMLDocument,window.jQuery),_a=window.document,Ya=!!_a.namespaces&&!_a.createElementNS,$a=!Ya&&"http://www.w3.org/1999/xhtml"!=_a.documentElement.namespaceURI,Fa=new i,za=new i;Fa.baseURI=_a.location.href,Fa.defaultFunctionNamespace="http://www.w3.org/2005/xpath-functions",Fa.defaultElementNamespace="http://www.w3.org/1999/xhtml",za.defaultFunctionNamespace=Fa.defaultFunctionNamespace;var qa={};qa.xpath=function(e,t,n){return Nn(e instanceof Xa?e:new Xa(e),t,n)},Xa.extend(Xa,qa),qa={},qa.xpath=function(e,t){return Nn(this,e,t)},Xa.extend(Xa.prototype,qa)}(),/**
* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.
*  
* Version - 0.99.00.beta 
* Copyright (c) 2012 Vadim Kiryukhin
* vkiryukhin @ gmail.com
* http://www.eslinstructor.net/vkbeautify/
* 
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*   Pretty print
*
*        vkbeautify.xml(text [,indent_pattern]);
*        vkbeautify.json(text [,indent_pattern]);
*        vkbeautify.css(text [,indent_pattern]);
*        vkbeautify.sql(text [,indent_pattern]);
*
*        @text - String; text to beatufy;
*        @indent_pattern - Integer | String;
*                Integer:  number of white spaces;
*                String:   character string to visualize indentation ( can also be a set of white spaces )
*   Minify
*
*        vkbeautify.xmlmin(text [,preserve_comments]);
*        vkbeautify.jsonmin(text);
*        vkbeautify.cssmin(text [,preserve_comments]);
*        vkbeautify.sqlmin(text);
*
*        @text - String; text to minify;
*        @preserve_comments - Bool; [optional];
*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )
*
*   Examples:
*        vkbeautify.xml(text); // pretty print XML
*        vkbeautify.json(text, 4 ); // pretty print JSON
*        vkbeautify.css(text, '. . . .'); // pretty print CSS
*        vkbeautify.sql(text, '----'); // pretty print SQL
*
*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments
*        vkbeautify.jsonmin(text);// minify JSON
*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )
*        vkbeautify.sqlmin(text);// minify SQL
*
*/
function(){function e(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],a=0;a<100;a++)n.push(n[a]+t);return n}function t(){this.step="    ",this.shift=e(this.step)}function n(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function a(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}t.prototype.xml=function(t,n){var a=t.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),i=a.length,o=!1,r=0,s="",l=0,c=n?e(n):this.shift;for(l=0;l<i;l++)a[l].search(/<!/)>-1?(s+=c[r]+a[l],o=!0,(a[l].search(/-->/)>-1||a[l].search(/\]>/)>-1||a[l].search(/!DOCTYPE/)>-1)&&(o=!1)):a[l].search(/-->/)>-1||a[l].search(/\]>/)>-1?(s+=a[l],o=!1):/^<\w/.exec(a[l-1])&&/^<\/\w/.exec(a[l])&&/^<[\w:\-\.\,]+/.exec(a[l-1])==/^<\/[\w:\-\.\,]+/.exec(a[l])[0].replace("/","")?(s+=a[l],o||r--):a[l].search(/<\w/)>-1&&a[l].search(/<\//)==-1&&a[l].search(/\/>/)==-1?s=s+=o?a[l]:c[r++]+a[l]:a[l].search(/<\w/)>-1&&a[l].search(/<\//)>-1?s=s+=o?a[l]:c[r]+a[l]:a[l].search(/<\//)>-1?s=s+=o?a[l]:c[--r]+a[l]:a[l].search(/\/>/)>-1?s=s+=o?a[l]:c[r--]+a[l]:s+=a[l].search(/<\?/)>-1?c[r]+a[l]:a[l].search(/xmlns\:/)>-1||a[l].search(/xmlns\=/)>-1?c[r]+a[l]:a[l];return"\n"==s[0]?s.slice(1):s},t.prototype.json=function(e,t){var t=t?t:this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},t.prototype.css=function(t,n){var a=t.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),i=a.length,o=0,r="",s=0,l=n?e(n):this.shift;for(s=0;s<i;s++)r+=/\{/.exec(a[s])?l[o++]+a[s]:/\}/.exec(a[s])?l[--o]+a[s]:/\*\\/.exec(a[s])?l[o]+a[s]:l[o]+a[s];return r.replace(/^\n{1,}/,"")},t.prototype.sql=function(t,i){var o=t.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),r=o.length,s=[],l=0,c=this.step,u=0,p="",f=0,d=i?e(i):this.shift;for(f=0;f<r;f++)s=f%2?s.concat(o[f]):s.concat(a(o[f],c));for(r=s.length,f=0;f<r;f++){u=n(s[f],u),/\s{0,}\s{0,}SELECT\s{0,}/.exec(s[f])&&(s[f]=s[f].replace(/\,/g,",\n"+c+c)),/\s{0,}\s{0,}SET\s{0,}/.exec(s[f])&&(s[f]=s[f].replace(/\,/g,",\n"+c+c)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(s[f])?(l++,p+=d[l]+s[f]):/\'/.exec(s[f])?(u<1&&l&&l--,p+=s[f]):(p+=d[l]+s[f],u<1&&l&&l--)}return p=p.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},t.prototype.xmlmin=function(e,t){var n=t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns");return n.replace(/>\s{0,}</g,"><")},t.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},t.prototype.cssmin=function(e,t){var n=t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\//g,"");return n.replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},t.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},window.vkbeautify=new t}(),angular.module("odeConsole").controller("DashboardController",["$scope","$interval","ProcessService",function(e,t,n){e.summary={},e.summary.packages="-",e.summary.processes="-",e.summary.instances="-",e.summary.active="-",e.summary.completed="-",e.summary.suspended="-",e.summary.failed="-",e.summary.error="-",e.summary.terminated="-",n.getPackages().then(function(){e.summary=n.summary}),e.$watch(function(){return n.summary},function(e,t,n){e&&(n.summary=e)})}]),angular.module("odeConsole").controller("InstanceController",["$scope","$routeParams","$location","xmlParser","$http","InstanceService","ngToast","$q","$modal",function(e,t,n,a,i,o,r,s,l){var c=function(){o.getInstanceInfo(t.iid).then(function(n){e.instance=n,e.activities=[],e.variables=[],e.endpoints=[],e.scopes=[],o.getScopeInfoWithActivity(n.rootScope.id,!0).then(function(t){e.rootScope=t,e.activities=t.activities,e.variables=t.variables,e.endpoints=t.endpoints,e.scopes.push(t);var n=function(t){var a=[];if(t.children)return t.children.forEach(function(t){a.push(o.getScopeInfoWithActivity(t.siid,!0).then(function(t){e.activities=e.activities.concat(t.activities),e.variables=e.variables.concat(t.variables),e.endpoints=e.endpoints.concat(t.endpoints),e.scopes.push(t),t.isProc=!0}).then(n(t)))}),s.all(a)};n(t)},function(){r.create({content:"Could not load root scope for instance "+t.iid+".",class:"danger"})})},function(){r.create({content:"Could not load process instance "+t.iid+".",class:"danger"})})};e.recoverActivity=function(t){var n=e.$new();n.activity=t,n.radio={model:void 0},l.open({templateUrl:"app/instance/recoverydialog.html",scope:n}).result.then(function(){n.radio.model&&o.recoverActivity(e.instance.iid,t.aiid,n.radio.model).then(function(){r.create("Activity recovery scheduled..."),c(),n.$destroy()})},function(){r.create({content:"Activity recovery could not be scheduled",class:"danger"})})},e.showVariableModal=function(e,t){o.getVariableInfo(e,t).then(function(n){l.open({templateUrl:"app/instance/varinfodialog.html",controller:["$scope","$modalInstance","varInfo",function(e,t,n){e.var=n}],resolve:{varInfo:function(){return n}}}).result.then(function(n){o.setVariable(e,t,n.value).then(function(){r.create("Variable updated."),c()},function(e){r.create({content:"Variable value could not be updated: "+e.faultstring,class:"danger"})})})},function(e){r.create({content:"Could not retrieve variable information: "+e.faultstring,class:"danger"})})},e.$on("instance-modified",function(){c()}),c()}]),angular.module("odeConsole").factory("InstanceService",["$log","$q","xmlFilter","SoapService","IMAPI_ENDPOINT",function(e,t,n,a,i){var o="http://www.apache.org/ode/pmapi",r=function(e){var t={ns:"http://www.apache.org/ode/pmapi/types/2006/08/02/",soapenv:"http://schemas.xmlsoap.org/soap/envelope/",pmapi:"http://www.apache.org/ode/pmapi"};return t[e]||null},s=function(e){var t=e.xpath("ns:process-name",r),n=e.xpath("ns:root-scope",r),i={iid:e.xpath("ns:iid",r).text(),pid:e.xpath("ns:pid",r).text(),processNameShort:t.text(),processNameFull:a.qnameToString(a.createQNameObj(t.text(),t[0])),processQName:a.createQNameObj(t.text(),t[0]),status:e.xpath("ns:status",r).text(),started:e.xpath("ns:dt-started",r).text(),lastActive:e.xpath("ns:dt-last-active",r).text(),rootScope:{id:n.attr("siid"),name:n.attr("name"),status:n.attr("status"),modelId:n.attr("modelId")}};if(0!==e.xpath("ns:fault-info",r).length){var o=e.xpath("ns:fault-info/ns:name",r);i.fault={name:a.createQNameObj(o.text(),o[0]),explanation:e.xpath("ns:fault-info/ns:explanation",r).text(),lineNumber:e.xpath("ns:fault-info/ns:line-number",r).text(),aiid:e.xpath("ns:fault-info/ns:aiid",r).text()}}if(0!==e.xpath("ns:failures",r).length&&(i.failures={failure:e.xpath("ns:failures/ns:dt-failure",r).text(),count:e.xpath("ns:failures/ns:count",r).text()}),0!==e.xpath("ns:correlation-properties/ns:correlation-property",r).length){var s=e.xpath("ns:correlation-properties/ns:correlation-property",r);i.correlationProperties=[];for(var l=0;l<s.length;l++){var c=angular.element(s[l]);i.correlationProperties.push({name:a.createQNameObj(c.attr("propertyName"),c[0]),value:c.text()})}}return i},l=function(e){var t={};return t.siid=e.xpath("ns:siid",r).text(),t.name=e.xpath("ns:name",r).text(),t.status=e.xpath("ns:status",r).text(),t.variables=[],e.xpath("ns:variables/ns:variable-ref",r).each(function(){var e={};e.iid=Number($(this).attr("iid")),e.siid=Number($(this).attr("siid")),e.name=$(this).attr("name"),e.scope={name:t.name,status:t.status},t.variables.push(e)}),t.endpoints=[],e.xpath("ns:endpoints/ns:endpoint-ref",r).each(function(){var e={};e.siid=t.siid,e.partnerLink=$(this).attr("partner-link"),e.partnerRole=$(this).attr("partner-role"),e.scope={name:t.name,status:t.status},e.value=vkbeautify.xml($(this).first().html().trim(),2),t.endpoints.push(e)}),t.activities=[],e.xpath("ns:activities/ns:activity-info",r).each(function(){var e={};e.name=$(this).xpath("ns:name",r).text(),e.type=$(this).xpath("ns:type",r).text(),e.status=$(this).xpath("ns:status",r).text(),e.enabled=$(this).xpath("ns:dt-enabled",r).text(),e.started=$(this).xpath("ns:dt-started",r).text(),e.completed=$(this).xpath("ns:dt-completed",r).text(),e.aiid=Number($(this).xpath("ns:aiid",r).text());var n=$(this).xpath("ns:scope",r);e.scope={siid:Number(n.attr("siid")),name:n.attr("name"),modelId:Number(n.attr("modelId")),status:t.status},t.activities.push(e);var a=$(this).xpath("ns:failure",r);a.length>0&&(e.failure={},e.failure.failure=a.xpath("ns:dt-failure",r).text(),e.failure.retries=a.xpath("ns:retries",r).text(),e.failure.reason=a.xpath("ns:reason",r).text(),e.failure.actions=a.xpath("ns:actions",r).text().split(" "))}),t.children=[],e.xpath("ns:children/ns:child-ref",r).each(function(){var e={};e.siid=Number($(this).attr("siid")),e.name=$(this).attr("name"),e.status=$(this).attr("status"),e.modelId=Number($(this).attr("modelId")),e.isRef=!0,t.children.push(e)}),t},c={};return c.listInstancesSummary=function(e,n,l){e=e||"",n=n||"",l=l||0;var c=t.defer();return a.callSOAP(i,{localName:"listInstancesSummary",namespaceURI:o},{filter:e,order:n,limit:l}).then(function(e){var t,n,a=[],i=e.xpath("//ns:instance-info",r);for(n=0;n<i.length;n+=1)t=angular.element(i[n]),a.push(s(t));c.resolve(a)},function(e){c.reject(e)}),c.promise},c.getInstanceInfo=function(e){var n=t.defer();return a.callSOAP(i,{localName:"getInstanceInfo",namespaceURI:o},{iid:e}).then(function(e){n.resolve(s(e.xpath("//instance-info",r)))},function(e){n.reject(e)}),n.promise},c.getScopeInfoWithActivity=function(e,n){var r=t.defer();return a.callSOAP(i,{localName:"getScopeInfoWithActivity",namespaceURI:o},{sid:e,activityInfo:n}).then(function(e){r.resolve(l(e.xpath("//scope-info")))},function(e){r.reject(e)}),r.promise},c.delete=function(e){return a.callSOAP(i,{localName:"delete",namespaceURI:o},{filter:"iid = "+e})},c.deleteFilter=function(e){return a.callSOAP(i,{localName:"delete",namespaceURI:o},{filter:e})},c.terminate=function(e){return a.callSOAP(i,{localName:"terminate",namespaceURI:o},{iid:e})},c.suspend=function(e){return a.callSOAP(i,{localName:"suspend",namespaceURI:o},{iid:e})},c.resume=function(e){return a.callSOAP(i,{localName:"resume",namespaceURI:o},{iid:e})},c.recoverActivity=function(e,t,n){return a.callSOAP(i,{localName:"recoverActivity",namespaceURI:o},{iid:e,aid:t,action:n})},c.getVariableInfo=function(e,n){var s=t.defer();return a.callSOAP(i,{localName:"getVariableInfo",namespaceURI:o},{sid:e,varName:n}).then(function(e){var t={},n=e.xpath("//variable-info/ns:self",r);t.name=n.attr("name"),t.iid=n.attr("iid"),t.siid=n.attr("siid"),t.value=e.xpath("//variable-info/ns:value",r).html().trim(),s.resolve(t)},function(e){s.reject(e)}),s.promise},c.setVariable=function(e,t,n){return a.callSOAP(i,{localName:"setVariable",namespaceURI:o},{sid:e,varName:t,value:n})},c.getEventTimeline=function(e,t){return e=e||"",t=t||"",a.callSOAP(i,{localName:"getEventTimeline",namespaceURI:o},{instanceFilter:e,eventFilter:t})},c.listEvents=function(e,t,n){return e=e||"",t=t||"",a.callSOAP(i,{localName:"getEventTimeline",namespaceURI:o},{instanceFilter:e,eventFilter:t,maxCount:n})},c}]),angular.module("odeConsole").controller("InstanceActionsController",["$scope","$location","xmlParser","$http","InstanceService","ngToast","$modal","$q",function(e,t,n,a,i,o,r,s){var l=function(t,n){e.$emit("instance-modified",{action:t,iids:n})};e.delete=function(e){e=e.pop?e:[e],0!==e.length&&(console.log("delete "+e),s.all(e.map(function(e){return i.delete(e)})).then(function(){l("delete",e)}))},e.terminate=function(e){e=e.pop?e:[e],0!==e.length&&(console.log("terminate "+e),s.all(e.map(function(e){return i.terminate(e)})).then(function(){l("terminate",e)}))},e.suspend=function(e){e=e.pop?e:[e],0!==e.length&&(console.log("suspend "+e),s.all(e.map(function(e){return i.suspend(e)})).then(function(){l("suspend",e)}))},e.resume=function(e){e=e.pop?e:[e],0!==e.length&&(console.log("resume "+e),s.all(e.map(function(e){return i.resume(e)})).then(function(){l("resume",e)}))},e.deleteAll=function(){console.log("deleteAll "+e.filter),i.deleteFilter(e.filter).then(function(){l("deleteAll","*")})},e.openFaultModal=function(){r.open({templateUrl:"app/instance/faultinfodialog.html",scope:e})},e.openCorrelationPropertiesModal=function(){r.open({templateUrl:"app/instance/corrpropinfodialog.html",scope:e})}}]),angular.module("odeConsole").controller("InstanceListController",["$scope","$location","xmlParser","$http","InstanceService","ngToast",function(e,t,n,a,i,o){var r=function(){i.listInstancesSummary(e.filter,"-last-active",200).then(function(t){e.instances=t},function(t){e.instances=[];var n,a=/java\.lang\.RuntimeException: Invocation of method \S+ in management interface failed: (.+)/;null!==(n=a.exec(t.faultstring))?o.create({content:n[0],class:"warning"}):o.create({content:"Could not load process instance list.",class:"danger"})})};e.getSelectedIIDs=function(){return e.instances.filter(function(e){return e.isSelected}).map(function(e){return e.iid})},e.filter=t.search().q||"",e.$watch(function(){return t.search()},function(){e.filter=t.search().q||"",r()}),e.update=function(){e.loaded=!1,t.search({q:e.filter})},e.instances=[],e.itemsByPage=25,e.$on("instance-modified",function(){r()})}]),angular.module("odeConsole").controller("ProcessController",["$scope","$routeParams","xmlParser","$http","ProcessService","InstanceService","ngToast",function(e,t,n,a,i,o,r){var s=function(){o.listInstancesSummary("pid = "+t.pid,"-last-active",e.maxInstances).then(function(t){e.instances=t},function(t){e.instances=[];var n,a=/java\.lang\.RuntimeException: Invocation of method \S+ in management interface failed: (.+)/;null!==(n=a.exec(t.faultstring))?r.create({content:n[0],class:"warning"}):r.create({content:"Could not load process instance list.",class:"danger"})})},l=function(){i.getProcessInfo(t.pid).then(function(t){e.process=t},function(){r.create({content:"Could not load process "+t.pid+".",class:"danger"})})};e.$on("instance-modified",function(){s()}),e.$on("process-modified",function(){l()}),e.maxInstances=15,s(),l()}]),angular.module("odeConsole").factory("ProcessService",["$http","$log","$q","$interval","_","SoapService","PMAPI_ENDPOINT","DSAPI_ENDPOINT","POLLING_INTERVAL",function(e,t,n,a,i,o,r,s,l){var c="http://www.apache.org/ode/pmapi",u=function(e){var t={ns:"http://www.apache.org/ode/pmapi/types/2006/08/02/",soapenv:"http://schemas.xmlsoap.org/soap/envelope/",pmapi:"http://www.apache.org/ode/pmapi"};return t[e]||null},p=function(e){var t=e.split("-"),n=!isNaN(i.last(t)),a={packageId:e,name:i.first(t,t.length-n).join("-")};return a.version=n?i.last(t):null,a},f=function(e){var t=e.xpath("ns:definition-info/ns:process-name",u),n={};return n.pid=e.xpath("ns:pid",u).text(),n.status=e.xpath("ns:status",u).text(),n.version=e.xpath("ns:version",u).text(),n.package=e.xpath("ns:deployment-info/ns:package",u).text(),n.deployDate=e.xpath("ns:deployment-info/ns:deploy-date",u).text(),n.nameShort=t.text(),n.nameFull=o.qnameToString(o.createQNameObj(t.text(),t[0])),n.endpoints={myRole:[],partnerRole:[]},e.xpath("ns:endpoints/ns:endpoint-ref[@my-role]",u).each(function(){n.endpoints.myRole.push(vkbeautify.xml($(this).first().html().trim(),2))}),e.xpath("ns:endpoints/ns:endpoint-ref[@partner-role]",u).each(function(){n.endpoints.partnerRole.push(vkbeautify.xml($(this).first().html().trim(),2))}),n.documents=[],e.xpath("ns:documents/ns:document",u).each(function(){var e={};e.name=$(this).xpath("ns:name",u).text(),e.type=$(this).xpath("ns:type",u).text(),e.source=$(this).xpath("ns:source",u).text(),n.documents.push(e)}),n.stats={active:Number(e.xpath("ns:instance-summary/ns:instances[@state='ACTIVE']/@count",u).val()),completed:Number(e.xpath("ns:instance-summary/ns:instances[@state='COMPLETED']/@count",u).val()),error:Number(e.xpath("ns:instance-summary/ns:instances[@state='ERROR']/@count",u).val()),failed:Number(e.xpath("ns:instance-summary/ns:instances[@state='FAILED']/@count",u).val()),suspended:Number(e.xpath("ns:instance-summary/ns:instances[@state='SUSPENDED']/@count",u).val()),terminated:Number(e.xpath("ns:instance-summary/ns:instances[@state='TERMINATED']/@count",u).val()),inrecovery:Number(e.xpath("ns:instance-summary/ns:failures/ns:count",u).text()||0)},n},d={},h=function(e){d.summary={},d.summary.packages=0,d.summary.processes=0,d.summary.instances=0,d.summary.active=0,d.summary.completed=0,d.summary.suspended=0,d.summary.failed=0,d.summary.error=0,d.summary.inrecovery=0,d.summary.terminated=0,e.forEach(function(e){d.summary.packages++,e.processes.forEach(function(e){d.summary.processes++,d.summary.active+=e.stats.active,d.summary.completed+=e.stats.completed,d.summary.suspended+=e.stats.suspended,d.summary.failed+=e.stats.failed,d.summary.error+=e.stats.error,d.summary.inrecovery+=e.stats.inrecovery,d.summary.terminated+=e.stats.terminated,d.summary.instances+=Object.keys(e.stats).reduce(function(t,n){return t+e.stats[n]},0)})})};return d.getPackages=function(){var e=n.defer();return o.callSOAP(r,{localName:"listAllProcesses",namespaceURI:c},{}).then(function(t){for(var n={},a=t.xpath("//ns:process-info",u),o=0;o<a.length;o+=1){var r=angular.element(a[o]),s=r.xpath("ns:deployment-info/ns:package",u).text();n[s]=n[s]||i.extend(p(s),{deployDate:r.xpath("ns:deployment-info/ns:deploy-date",u).text(),processes:[]}),n[s].processes.push(f(r))}h(i.values(n)),e.resolve(i.values(n))},function(n,a){e.reject(n),t.error(n,a)}),e.promise},d.getProcesses=function(){var e=n.defer();return o.callSOAP(r,{localName:"listAllProcesses",namespaceURI:c},{}).then(function(t){var n,a,i=[],o=t.xpath("//ns:process-info",u);for(a=0;a<o.length;a+=1)n=angular.element(o[a]),i.push(f(n));e.resolve(i)},function(n,a){e.reject(n),t.error(n,a)}),e.promise},d.getProcessInfo=function(e){var t=n.defer(),a=o.parseQNameStr(e);return a.prefix="pns",o.callSOAP(r,{localName:"getProcessInfo",namespaceURI:c},{pid:a}).then(function(e){t.resolve(f(e.xpath("//process-info")))},function(e){t.reject(e)}),t.promise},d.setRetired=function(e,t){var n=o.parseQNameStr(e);return n.prefix="pns",o.callSOAP(r,{localName:"setRetired",namespaceURI:c},{pid:n,retired:t})},d.deployPackage=function(e,t){return o.callSOAP(s,{localName:"deploy",namespaceURI:c},{name:e,package:'<dep:zip xmlns:dep="http://www.apache.org/ode/deployapi">'+t+"</dep:zip>"})},l>0&&a(d.getPackages,l),d.undeployPackage=function(e){return o.callSOAP(s,{localName:"undeploy",namespaceURI:c},{packageName:e})},l>0&&a(d.getPackages,l),d}]),angular.module("odeConsole").controller("ProcessActionsController",["$scope","xmlParser","$http","ProcessService","ngToast",function(e,t,n,a,i){var o=function(t,n){e.$emit("process-modified",{action:t,pid:n})},r=function(t,n){e.$emit("package-modified",{action:t,paid:n})};e.retire=function(e){console.log("retire "+e),a.setRetired(e,!0).then(function(){i.create("Process "+e+" retired."),o("retire",e)},function(){i.create({content:"Ouups, something went wrong.",class:"danger"})})},e.activate=function(e){console.log("activate "+e),a.setRetired(e,!1).then(function(){i.create("Process "+e+" activated."),o("activate",e)},function(){i.create({content:"Ouups, something went wrong.",class:"danger"})})},e.undeployPackage=function(e){console.log("undeployPackage "+e),a.undeployPackage(e).then(function(){i.create("Package "+e+" undeployed."),r("undeploy",e)},function(){i.create({content:"Ouups, something went wrong.",class:"danger"})})}}]),angular.module("odeConsole").controller("ProcessListController",["$scope","xmlParser","$http","ProcessService","ngToast",function(e,t,n,a,i){var o=function(){a.getPackages().then(function(t){e.packages=t},function(){i.create({content:"Could not load process list.",class:"danger"})})};e.upload={},e.uploadPackage=function(){a.deployPackage(e.upload.packageName,e.upload.file.base64).then(function(){i.create({content:"Package "+e.upload.name+" successfully deployed",class:"success"}),e.upload={},o()},function(t){i.create({content:"Could not deploy package "+e.upload.file.filename+": "+t.faultstring,class:"danger"}),e.upload={}})},e.$on("process-modified",function(){o()}),e.$on("package-modified",function(){o()}),o()}]),angular.module("odeConsole").controller("NavbarController",["$scope","$location","ProcessService",function(e,t,n){e.isActive=function(e){return 0===t.path().indexOf(e)},e.$watch(function(){return n.summary},function(e,t,n){n.summary=e})}]),angular.module("odeConsole").run(["$templateCache",function(e){e.put("app/confirmdialog.html",'<div class="modal-header">\n  <h3 class="modal-title">Confirmation</h3>\n</div>\n<div class="modal-body">\n  <p>{{message}}</p>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-primary" ng-click="$close()">OK</button>\n  <button class="btn btn-default" ng-click="$dismiss(\'cancel\')">Cancel</button>\n</div>\n'),e.put("app/dashboard/dashboard.html",'<div class="container">\n\n  <div class="row">\n    <div class="col-md-4">\n      <img ng-src="assets/images/ode-logo.png">\n    </div>\n    <div class="col-md-8">\n      <div class="row">\n        <h1 class="col-md-12">Dashboard</h1>\n      </div>\n      <div class="row">\n        <div class="col-md-6">\n          <div class="list-group">\n            <a ng-href="#/processes" class="list-group-item">\n              <h3 class="pull-right">\n                <i class="fa fa-folder"></i>\n              </h3>\n              <h4 class="list-group-item-heading count">{{summary.packages}}</h4>\n              <p class="list-group-item-text">Process Packages</p>\n            </a>\n            <a ng-href="#/processes" class="list-group-item">\n              <h3 class="pull-right">\n                <i class="fa fa-file"></i>\n              </h3>\n              <h4 class="list-group-item-heading count">{{summary.processes}}</h4>\n              <p class="list-group-item-text">Process Models</p>\n            </a>\n            <a ng-href="#/instances" class="list-group-item">\n              <h3 class="pull-right">\n                <i class="fa fa-cogs"></i>\n              </h3>\n              <h4 class="list-group-item-heading count">{{summary.instances}}</h4>\n              <p class="list-group-item-text">Process Instances</p>\n            </a>\n          </div>\n        </div>\n        <div class="col-md-6">\n          <div class="list-group">\n            <a ng-href="#/instances?q=status%20%3D%20active" class="list-group-item list-group-item-info">\n              <h3 class="pull-right">\n                <i class="fa fa-cog"></i>\n              </h3>\n              <h4 class="list-group-item-heading count">{{summary.active}}</h4>\n              <p class="list-group-item-text">Active Instances</p>\n            </a>\n            <a ng-href="#/instances?q=status%20%3D%20suspended" class="list-group-item list-group-item-info">\n              <h3 class="pull-right">\n                <i class="fa fa-pause"></i>\n              </h3>\n              <h4 class="list-group-item-heading count">{{summary.suspended}}</h4>\n              <p class="list-group-item-text">Suspended Instances</p>\n            </a>\n            <a ng-href="#/instances?q=status%20%3D%20completed" class="list-group-item list-group-item-success">\n              <h3 class="pull-right">\n                <i class="fa fa-check"></i>\n              </h3>\n              <h4 class="list-group-item-heading count">{{summary.completed}}</h4>\n              <p class="list-group-item-text">Completed Instances</p>\n            </a>\n            <a ng-href="#/instances?q=status%20%3D%20failed" class="list-group-item list-group-item-danger">\n              <h3 class="pull-right">\n                <i class="fa fa-warning"></i>\n              </h3>\n              <h4 class="list-group-item-heading count">{{summary.failed}}</h4>\n              <p class="list-group-item-text">Failed Instances</p>\n            </a>\n            <a ng-href="#/instances?q=status%20%3D%20terminated" class="list-group-item">\n              <h3 class="pull-right">\n                <i class="fa fa-power-off"></i>\n              </h3>\n              <h4 class="list-group-item-heading count">{{summary.terminated}}</h4>\n              <p class="list-group-item-text">Terminated Instances</p>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  \n  </div>\n</div>\n'),e.put("app/instance/corrpropinfodialog.html",'<div class="modal-header">\n  <h3 class="modal-title">Correlation Properties</h3>\n</div>\n<div class="modal-body">\n  <table class="table table-condensed">\n    <thead>\n      <tr>\n          <th>Namespace</th>\n          <th>Local name</th>\n          <th>Value</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat="prop in instance.correlationProperties">\n        <td>{{prop.name.namespaceURI}}</td>\n        <td>{{prop.name.localName}}</td>\n        <td><code>{{prop.value}}</code></td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-primary" ng-click="$close()">OK</button>\n</div>\n'),e.put("app/instance/faultinfodialog.html",'<div class="modal-header">\n  <h3 class="modal-title">Fault Details</h3>\n</div>\n<div class="modal-body">\n  <h4>Fault Name</h4>\n  <p>{{instance.fault.name.localName}} ({{instance.fault.name.namespaceURI}})</p>\n  <h4 ng-if="instance.fault.explanation">Explanation</h4>\n  <pre ng-if="instance.fault.explanation">{{instance.fault.explanation}}</pre>\n  <h4>Line number</h4>\n  <p>{{instance.fault.lineNumber}}</p>\n  <h4>Activity Instance ID</h4>\n  <p>{{instance.fault.aiid}}</p>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-primary" ng-click="$close()">OK</button>\n</div>\n'),e.put("app/instance/instance.html",'<div class="container">\n\n  <div class="panel panel-default">\n    <div class="panel-heading">\n      <h3 class="panel-title">Instance Details</h3>\n    </div>\n    <table class="table">\n      <tr>\n        <th>Instance ID</th>\n        <td>{{instance.iid}}</td>\n      </tr>\n      <tr>\n        <th>Process ID</th>\n        <td><a href="#/processes/{{instance.pid}}">{{instance.pid}}</a></td>\n      </tr>\n      <tr>\n        <th>Process Name</th>\n        <td>{{instance.processNameFull}}</td>\n      </tr>\n      <tr>\n        <th>Started</th>\n        <td><span tooltip="{{instance.started | amCalendar }}">{{instance.started | date:\'medium\'}}</span></td>\n      </tr>\n      <tr>\n        <th>Last Active</th>\n        <td><span tooltip="{{instance.lastActive | amCalendar}}">{{instance.lastActive | date:\'medium\'}}</span></td>\n      </tr>\n      <tr>\n        <th>Status</th>\n        <td><span class="label ng-class: \'label-instance-\' + (instance.status | lowercase);">{{instance.status}}</span></td>\n      </tr>\n      <tr>\n        <th>Actions</th>\n        <td><div ng-include="\'app/instance/instanceactionbuttons.html\'"></div></td>\n      </tr>\n    </table>\n  </div>\n\n  <div class="panel panel-danger" ng-if="instance.fault">\n    <div class="panel-heading">\n      <h3 class="panel-title">Fault Details</h3>\n    </div>\n    <div class="panel-body">\n      <h4>{{instance.fault.name.localName}} <small>({{instance.fault.name.namespaceURI}})</small></h4>\n      <h4>Explanation</h4>\n      <pre>{{instance.fault.explanation}}</pre>\n      <small>Line number: {{instance.fault.lineNumber}}, Activity Instance ID: {{instance.fault.aiid}}</small>\n    </div>\n  </div>\n\n  <div class="panel panel-default" ng-if="instance.correlationProperties">\n    <div class="panel-heading">\n      <h3 class="panel-title">Correlation Properties</h3>\n    </div>\n    <table class="table">\n      <thead>\n        <tr>\n            <th>QName</th>\n            <th>Value</th>\n            <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="prop in instance.correlationProperties">\n          <td><code>{{\'{\' + prop.name.namespaceURI + \'}\' + prop.name.localName}}</code></td>\n          <td><code>{{prop.value}}</code></td>\n          <td><a ng-href="#/instances?q={{\'${\' + prop.name.namespaceURI + \'}\' + prop.name.localName + \' = \' + prop.value | escape}}" role="button" class="btn btn-default btn-xs">\n              <span class="glyphicon glyphicon-search"></span> Search\n            </a></td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <div class="panel panel-default">\n    <div class="panel-heading">\n      <h3 class="panel-title">Variables</h3>\n    </div>\n    <table class="table">\n      <thead>\n        <tr>\n            <th>Name</th>\n            <th>Scope</th>\n            <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="var in variables | orderBy:\'siid\'">\n          <td>{{var.name}}</td>\n          <td>{{var.scope.name}} ({{var.siid}})</td>\n          <td><button type="button" class="btn btn-default btn-xs" ng-click="showVariableModal(var.siid, var.name)">\n            <span class="glyphicon glyphicon-edit"></span> Edit Value\n          </button>\n          </td>\n\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <div class="panel panel-default" ng-if="endpoints.length">\n    <div class="panel-heading">\n      <h3 class="panel-title">Endpoints</h3>\n    </div>\n    <table class="table">\n      <thead>\n        <tr>\n            <th>Partner Link</th>\n            <th>Partner Role</th>\n            <th>Scope</th>\n            <th>Value</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="endpoint in endpoints | orderBy:\'siid\'">\n          <td>{{endpoint.partnerLink}}</td>\n          <td>{{endpoint.partnerRole}}</td>\n          <td>{{endpoint.scope.name}} ({{endpoint.siid}})</td>\n          <td><div ng-if="endpoint.value" ui-ace="{mode:\'xml\', showGutter: false}" readonly="readonly" ng-model="endpoint.value" style="min-width:550px"></div><span ng-if="!endpoint.value" class="label label-default">UNCHANGED</span></td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <div class="panel panel-default">\n    <div class="panel-heading">\n      <h3 class="panel-title">Activities</h3>\n    </div>\n    <table class="table">\n      <thead>\n        <tr>\n            <th>AIID</th>\n            <th>Name</th>\n            <th>Type</th>\n            <th>Status</th>\n            <th>Started</th>\n            <th>Enabled</th>\n            <th>Completed</th>\n            <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="act in activities | orderBy:\'aiid\':reverse">\n          <td>{{act.aiid}}</td>\n          <td>{{act.name}}</td>\n          <td>{{act.type}}</td>\n          <td><span class="label ng-class: \'label-activity-\' + (act.status | lowercase);">{{act.status}}</span> <span ng-if="act.failure.retries" tooltip="{{act.failure.reason}}" class="badge">{{act.failure.retries}}</span></td>\n          <td>{{act.started | date:\'medium\'}}</td>\n          <td>{{act.enabled | date:\'medium\'}}</td>\n          <td>{{act.completed | date:\'medium\'}}</td>\n          <td><button type="button" class="btn btn-primary btn-xs" ng-if="act.failure" ng-click="recoverActivity(act)">\n            <span class="glyphicon glyphicon-edit"></span> Recover Activity&hellip;\n          </button></td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <button class="btn btn-default" ng-click="showDetails = !showDetails">Toggle Raw Instance Details</button>\n  <div class="panel panel-default" collapse="!showDetails">\n    <div class="panel-heading">\n      <h3 class="panel-title">Instance Details</h3>\n    </div>\n    <div class="panel-body">\n      <h5>Activities</h5>\n      <pre>{{activities | json}}</pre>\n      <h5>Variables</h5>\n      <pre>{{variables | json}}</pre>\n      <h5>Scopes</h5>\n      <pre>{{scopes | json}}</pre>\n      <h5>Root Scope</h5>\n      <pre>{{rootScope | json}}</pre>\n    </div>\n  </div>\n</div>\n'),
e.put("app/instance/instanceactionbuttons.html",'<div ng-controller="InstanceActionsController">\n<button type="button" class="btn btn-default btn-xs" ng-if="instance.status == \'SUSPENDED\'" ng-click="resume(instance.iid)">\n  <span class="glyphicon glyphicon-play"></span> Resume\n</button>\n<button type="button" class="btn btn-default btn-xs" ng-if="instance.status == \'ACTIVE\'" ng-click="suspend(instance.iid)">\n  <span class="glyphicon glyphicon-pause"></span> Suspend\n</button>\n<button type="button" class="btn btn-xs btn-warning" ng-if="instance.status == \'ACTIVE\' || instance.status == \'SUSPENDED\'" ng-really-message="Are you sure?" ng-really-click="terminate(instance.iid)">\n  <span class="glyphicon glyphicon-stop"></span> Terminate\n</button>\n<button type="button" class="btn btn-xs btn-danger" ng-really-message="Are you sure?" ng-really-click="delete(instance.iid)">\n  <span class="glyphicon glyphicon-remove"></span> Delete\n</button>\n</div>\n'),e.put("app/instance/instancelist.html",'<div class="container">\n\n  <div class="panel panel-default" st-table="instancesViewModel" st-safe-src="instances">\n    <!-- Default panel contents -->\n    <div class="panel-heading">\n      <form class="" role="search" ng-submit="update()">\n        <div class="input-group">\n          <input type="text" class="form-control" ng-model="filter" autofocus="">\n          <span class="input-group-btn">\n            <button class="btn btn-default" type="submit"><span class="glyphicon glyphicon-search"></span></button>\n          </span>\n        </div>\n      </form>\n    </div>\n    <table class="table table-condensed">\n      <thead>\n        <tr>\n          <th><select-all-checkbox items="instancesViewModel" prop="isSelected"></select-all-checkbox></th>\n          <th st-sort="iid">IID</th>\n          <th st-sort="processNameShort">Process name</th>\n          <th st-sort="status">Status</th>\n          <th st-sort="started">Started</th>\n          <th st-sort="lastActive" st-sort-default="reverse">Last Active</th>\n          <th>Action</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-if="!instances.length">\n          <td colspan="7" ng-if="!instances.length">\n              <h4 class="text-center">No instances found.</h4>\n          </td>\n        </tr>\n        <tr ng-class="instance.status | lowercase" ng-repeat="instance in instancesViewModel">\n          <td><input type="checkbox" ng-model="instance.isSelected"></td>\n          <td><a href="#/instances/{{instance.iid}}">{{instance.iid}}</a></td>\n          <td data-toggle="tooltip" title="{{instance.processNameFull}}">\n            <a href="#/processes/{{instance.pid}}">{{instance.pid}}</a>\n          </td>\n          <td ng-controller="InstanceActionsController">\n            <span class="label ng-class: \'label-instance-\' + (instance.status | lowercase);">{{instance.status}}</span>\n            <i class="fa fa-exclamation-circle text-info" style="vertical-align:middle" aria-hidden="true" ng-if="instance.fault" ng-click="openFaultModal()" tooltip="Show fault details"></i>\n            <i class="fa fa-bullseye" style="vertical-align:middle" aria-hidden="true" ng-if="instance.correlationProperties" ng-click="openCorrelationPropertiesModal()" tooltip="Show correlation properties"></i>\n            <i class="fa fa-flash" style="vertical-align:middle" aria-hidden="true" ng-if="instance.failures" tooltip="{{instance.failures.count}} failure(s) @ {{instance.failures.failure | date:\'medium\'}}"></i>\n          </td>\n          <td>\n            <time datetime="{{instance.started}}" tooltip="{{instance.started | date:\'medium\'}}" am-time-ago="instance.started"></time>\n          </td>\n          <td>\n            <time datetime="{{instance.lastActive}}" tooltip="{{instance.lastActive | date:\'medium\'}}" am-time-ago="instance.lastActive"></time>\n          </td>\n          <td><div ng-include="\'app/instance/instanceactionbuttons.html\'"></div></td>\n        </tr>\n      </tbody>\n      <tfoot>\n        <tr>\n          <td colspan="7">\n            <div class="pull-left" ng-controller="InstanceActionsController">\n              <button type="button" class="btn btn-default btn-sm" ng-click="suspend(getSelectedIIDs())"><span class="glyphicon glyphicon-pause"></span> Suspend</button>\n              <button type="button" class="btn btn-default btn-sm" ng-click="resume(getSelectedIIDs())"><span class="glyphicon glyphicon-play"></span> Resume</button>\n              <button type="button" class="btn btn-warning btn-sm" ng-really-message="Are you sure?" ng-really-click="terminate(getSelectedIIDs())"><span class="glyphicon glyphicon-stop"></span> Terminate</button>\n              <button type="button" class="btn btn-danger btn-sm" ng-really-message="Are you sure?" ng-really-click="delete(getSelectedIIDs())"><span class="glyphicon glyphicon-remove"></span> Delete</button>\n              <button type="button" class="btn btn-danger btn-sm" ng-really-message="Are you sure?" ng-really-click="deleteAll()"><span class="glyphicon glyphicon-remove"></span> Delete All</button>\n            </div>\n            <div class="btn-group pull-right">\n              <label class="btn btn-default btn-xs" ng-model="itemsByPage" btn-radio="25" uncheckable>25</label>\n              <label class="btn btn-default btn-xs" ng-model="itemsByPage" btn-radio="50" uncheckable>50</label>\n              <label class="btn btn-default btn-xs" ng-model="itemsByPage" btn-radio="100" uncheckable>100</label>\n            </div>\n          </td>\n        </tr>        \n      </tfoot>\n    </table>\n    <div class="panel-footer text-center">\n      <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div>\n    </div>\n  </div>\n\n</div>\n'),e.put("app/instance/recoverydialog.html",'<div class="modal-header">\n  <h3 class="modal-title">Activity Recovery</h3>\n</div>\n<div class="modal-body">\n  <p>The following activity has entered a failure state. It can be manually recovered.</p>\n  <table class="table table-condensed">\n    <tbody>\n      <tr>\n        <th>Name</th>\n        <td>{{activity.name}}</td>\n      </tr>\n      <tr>\n        <th>Type</th>\n        <td>{{activity.type}}</td>\n      </tr>\n      <tr>\n        <th>Status</th>\n        <td>{{activity.status}}</td>\n      </tr>\n      <tr>\n        <th>Enabled</th>\n        <td>{{activity.enabled}}</td>\n      </tr>\n      <tr>\n        <th>Started</th>\n        <td>{{activity.started}}</td>\n      </tr>\n      <tr>\n        <th>Failure</th>\n        <td>{{activity.failure.failure}}</td>\n      </tr>\n      <tr>\n        <th>Retries</th>\n        <td>{{activity.failure.retries}}</td>\n      </tr>\n      <tr>\n        <th>Reason</th>\n        <td>{{activity.failure.reason}}</td>\n      </tr>\n    </tbody>\n  </table>\n\n  <h4>Recovery Options</h4>\n  <div class="btn-group">\n    <label style="text-transform: capitalize" ng-repeat="action in activity.failure.actions" class="btn btn-default" ng-model="radio.model" btn-radio="action">{{action}}</label>\n  </div>\n  <p ng-if="radio.model == \'retry\'">The execution of the activity will be tried again.</p>\n  <p ng-if="radio.model == \'cancel\'">The execution of the activity will be cancelled.</p>\n  <p ng-if="radio.model == \'fault\'">The execution of the activity will be faulted. The process instance will either handle this fault in a fault handler or will enter a fault state itself.</p>\n\n</div>\n<div class="modal-footer">\n  <button class="btn btn-primary" ng-disabled="!radio.model" ng-click="$close()">OK</button>\n  <button class="btn btn-default" ng-click="$dismiss()">Cancel</button>\n</div>\n'),e.put("app/instance/varinfodialog.html",'<div class="modal-header">\n  <h3 class="modal-title">Edit Variable Details</h3>\n</div>\n<div class="modal-body">\n  <h4>Variable Name</h4>\n  <p>{{var.name}}</p>\n  <h4>Content</h4>\n  <div ui-ace="{mode: \'xml\'}" ng-model="var.value"></div>\n  <h4>Scope Instance ID</h4>\n  <p>{{var.siid}}</p>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-primary" ng-click="$close(var)">OK</button>\n  <button class="btn btn-default" ng-click="$dismiss()">Cancel</button>\n</div>\n'),e.put("app/process/process.html",'<div class="container">\n\n  <div class="panel panel-default">\n    <div class="panel-heading">\n      <h3 class="panel-title">Process Details</h3>\n    </div>\n    <table class="table">\n      <tr>\n        <th>Process Name</th>\n        <td><a href="#/instances?q=name%20%3D%20{{process.nameFull | escape}}">{{process.nameFull}}</a></td>\n      </tr>\n      <tr>\n        <th>Process ID</th>\n        <td>{{process.pid}}</td>\n      </tr>\n      <tr>\n        <th>Package</th>\n        <td>{{process.package}}</td>\n      </tr>\n      <tr>\n        <th>Deploy Date</th>\n        <td><span tooltip="{{process.deployDate | amCalendar}}">{{process.deployDate | date:\'medium\'}}</span></td>\n      </tr>\n      <tr>\n        <th>Status</th>\n        <td><span class="label ng-class: \'label-process-\' + (process.status | lowercase);">{{process.status}}</span></td>\n      </tr>\n      <tr>\n        <th>WSDL URL</th>\n        <td></td>\n      </tr>\n      <tr>\n        <th>Actions</th>\n        <td><div ng-include="\'app/process/processactionbuttons.html\'"></div></td>\n      </tr>\n    </table>\n  </div>\n\n  <div class="panel panel-default" ng-if="process.endpoints.myRole.length || process.endpoints.partnerRole.length">\n    <div class="panel-heading"><h3 class="panel-title">Endpoints</h3></div>\n    <div class="panel-body">\n      <div class="panel" ng-if="process.endpoints.myRole.length">\n        <div class="panel-heading"><h3 class="panel-title">Process Inbound Endpoints</h3></div>\n        <div class="panel-body">\n          <ul class="list-group">\n            <li class="list-group-item" ng-repeat="myRoleEndpoint in process.endpoints.myRole">\n              <div ui-ace="{mode: \'xml\'}" readonly="readonly" ng-model="myRoleEndpoint"></div>\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <div class="panel" ng-if="process.endpoints.partnerRole.length">\n        <div class="panel-heading"><h3 class="panel-title">Process Outbound Endpoints</h3></div>\n        <div class="panel-body">\n          <ul class="list-group">\n            <li class="list-group-item" ng-repeat="partRoleEnpoint in process.endpoints.partnerRole">\n              <div ui-ace="{mode: \'xml\'}" readonly="readonly" ng-model="partRoleEnpoint"></div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="panel panel-default" ng-cloak>\n    <div class="panel-heading">\n      <h3 class="panel-title"><span tooltip="Top {{maxInstances}} instances, ordered by last activity">Most Recent Process Instances</span></h3>\n    </div>\n    <table class="table table-condensed">\n      <thead>\n        <tr>\n          <th>IID</th>\n          <th>Process name</th>\n          <th>Status</th>\n          <th>Started</th>\n          <th>Last Active</th>\n          <th>Action</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-if="!instances.length">\n          <td colspan="6" ng-if="!instances.length">\n              <h4 class="text-center">No instances found.</h4>\n          </td>\n        </tr>\n        <tr ng-class="instance.status | lowercase" ng-repeat="instance in instances">\n          <td><a href="#/instances/{{instance.iid}}">{{instance.iid}}</a></td>\n          <td data-toggle="tooltip" title="{{instance.processNameFull}}">\n            <a href="#/processes/{{instance.pid}}">{{instance.pid}}</a>\n          </td>\n          <td ng-controller="InstanceActionsController">\n            <span class="label ng-class: \'label-instance-\' + (instance.status | lowercase);">{{instance.status}}</span>\n            <i class="fa fa-exclamation-circle text-info" style="vertical-align:middle" aria-hidden="true" ng-if="instance.fault" ng-click="openFaultModal()" tooltip="Show fault details"></i>\n            <i class="fa fa-bullseye" style="vertical-align:middle" aria-hidden="true" ng-if="instance.correlationProperties" ng-click="openCorrelationPropertiesModal()" tooltip="Show correlation properties"></i>\n            <i class="fa fa-flash" style="vertical-align:middle" aria-hidden="true" ng-if="instance.failures" tooltip="{{instance.failures.count}} failure(s) ({{instance.failures.failure}})"></i>\n          </td>\n          <td>\n            <time datetime="{{instance.started}}" tooltip="{{instance.started | date:\'medium\'}}" am-time-ago="instance.started"></time>\n          </td>\n          <td>\n            <time datetime="{{instance.lastActive}}" tooltip="{{instance.lastActive | date:\'medium\'}}" am-time-ago="instance.lastActive"></time>\n          </td>\n          <td><div ng-include="\'app/instance/instanceactionbuttons.html\'"></div></td>\n        </tr>\n      </tbody>\n      <tfoot>\n        <tr>\n          <td colspan="6"><a href="#/instances?q={{\'pid = \' + process.pid | escape}}">Show all instances</a>\n          </td>\n        </tr>\n      </tfoot>\n    </table>\n  </div>\n</div>\n'),e.put("app/process/processactionbuttons.html",'<div ng-controller="ProcessActionsController">\n  <button type="button" class="btn btn-default btn-xs" ng-if="process.status == \'ACTIVE\'" ng-click="retire(process.pid)">\n    <span class="glyphicon glyphicon-pause"></span> Retire\n  </button>\n  <button type="button" class="btn btn-default btn-xs" ng-if="process.status == \'DISABLED\' || process.status == \'RETIRED\'" ng-click="activate(process.pid)">\n    <span class="glyphicon glyphicon-fire"></span> Activate\n  </button>\n</div>\n'),e.put("app/process/processlist.html",'<div class="container">\n\n  <h1>WS-BPEL Process Models</h1>\n\n  <div class="panel panel-default">\n    <!-- Default panel contents -->\n\n    <table class="table table-condensed">\n      <thead>\n        <tr>\n            <th></th>\n            <th>Process name</th>\n            <th>Status</th>\n            <th>Active</th>\n            <th tooltip-append-to-body="true" tooltip="Completed OK">Completed</th>\n            <th tooltip-append-to-body="true" tooltip="Completed with fault">Failed</th>\n            <th tooltip-append-to-body="true" tooltip="Suspended via a breakpoint or user intervention">Suspended</th>\n            <th>Terminated</th>\n            <th>Action</th>\n        </tr>\n      </thead>\n      <tbody ng-repeat="package in packages">\n        <tr ng-if="!packages.length">\n          <td colspan="10" ng-if="!packages.length">\n              <h4 class="text-center">No instances found.</h4>\n          </td>\n        </tr>\n        <tr class="active">\n          <td colspan="8">{{package.name}} <span class="label label-info" ng-if="package.version">Version {{package.version}}</span></td>\n          <td><div ng-controller="ProcessActionsController">\n            <button type="button" class="btn btn-danger btn-xs" ng-really-message="Are you sure?" ng-really-click="undeployPackage(package.packageId)">\n              <span class="glyphicon glyphicon-remove"></span> Undeploy\n            </button></div>\n          </td>\n        </tr>\n        <tr ng-repeat="process in package.processes">\n          <td></td>\n          <td data-toggle="tooltip" title="{{process.nameFull}}"><a href="#/processes/{{process.pid}}">{{process.nameShort}}</a></td>\n          <td><span class="label ng-class: \'label-process-\' + (process.status | lowercase);">{{process.status}}</span></td>\n          <td>{{process.stats.active}} <span ng-if="process.stats.inrecovery > 0" class="badge" tooltip="Instances waiting for manual recovery"><i class="fa fa-exclamation-circle"></i> {{process.stats.inrecovery}}</span></td>\n          <td>{{process.stats.completed}}</td>\n          <td>{{process.stats.failed}}</td>\n          <td>{{process.stats.suspended}}</td>\n          <td>{{process.stats.terminated}}</td>\n          <td><div ng-include="\'app/process/processactionbuttons.html\'"></div></td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <div class="panel panel-default">\n    <div class="panel-heading">\n      <h3 class="panel-title">Upload a process model</h3>\n    </div>\n    <div class="panel-body">\n      <form name="uploadForm">\n      <div ng-class="{\'has-error\': uploadForm.$touched && !uploadForm.packageName.$valid}" class="form-group">\n        <label for="packageName">Package Name</label>\n        <input type="text" class="form-control" id="packageName" name="packageName" ng-model="upload.packageName" placeholder="Package Name" required>\n      </div>\n      <div ng-class="{\'has-error\': uploadForm.touched && !uploadForm.file.$valid}" class="form-group">\n        <label for="file">Process Package</label>\n        <div class="input-group">\n          <span class="input-group-btn">\n              <span class="btn btn-default btn-file">\n                  Browse&hellip; <input type="file" name="file" id="file" ng-model="upload.file" accept="application/zip" base-sixty-four-input required>\n              </span>\n          </span>\n          <input type="text" class="form-control" ng-model="upload.file.filename" readonly="readonly">\n        </div>\n        <span class="help-block">\n            Select ODE deployment packages (.zip files containing all process artifacts at the root level)\n        </span>\n      </div>\n      <button type="submit" class="btn btn-primary" ng-click="uploadPackage()" ng-disabled="!uploadForm.$valid">Upload</button>\n      </form></div>\n    \n  </div>\n</div>\n'),e.put("components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-default" ng-controller="NavbarController">\n  <div class="container-fluid">\n    <div class="navbar-header">\n      <a class="navbar-brand" href="#/">\n        Apache ODE<sup>™</sup> Console\n      </a>\n    </div>\n\n    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6">\n      <ul class="nav navbar-nav">\n        <li ng-class="{ active: isActive(\'/processes\')}"><a ng-href="#/processes">Process Models <span class="badge">{{summary.processes}}</span></a></li>\n        <li class="dropdown" dropdown ng-class="{ active: isActive(\'/instances\')}"><a class="dropdown-toggle" dropdown-toggle role="button" aria-expanded="false">Process Instances <span class="badge">{{summary.instances}}</span><span class="caret"></span></a>\n            <ul class="dropdown-menu" role="menu">\n              <li><a ng-href="#/instances">All Instances <span class="badge">{{summary.instances}}</span></a></li>\n              <li><a ng-href="#/instances?q=status%20%3D%20active">Running Instances <span class="badge">{{summary.active}}</span></a></li>\n              <li><a ng-href="#/instances?q=status%20%3D%20suspended">Suspended Instances <span class="badge">{{summary.suspended}}</span></a></li>\n              <li><a ng-href="#/instances?q=status%20%3D%20failed">Failed Instances <span class="badge">{{summary.failed}}</span></a></li>\n              <li><a ng-href="#/instances?q=status%20%3D%20completed">Completed Instances <span class="badge">{{summary.completed}}</span></a></li>\n            </ul>\n          </li>\n        \n      </ul>\n\n    </div>\n  </div>\n</nav>\n')}]);